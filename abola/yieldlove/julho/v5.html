<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    p { height: 100vh; }
    .ad.vert { min-height: 250px; }
    .ad.MastHead_NNH { min-height: 250px; }
    .onlyMobileSizes { display: none }
    body { position: relative; }
    .footersticky {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      z-index: 2147483644;
      display: flex;
      justify-content: center;
      pointer-events: none;
      animation: stickyUP 0.4s ease-out forwards;
    }
    @keyframes stickyUP {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body>
  
falta melhorar o botao de fechar do sticky
<div class="ad MastHead_NNH" data-slot-name="Billboard"></div>
<div class="ad MREC_NNH" data-slot-name="Billboard_HP"></div>
<p></p>
<div class="ad MREC_NNH"></div>
<p></p>
<div class="ad MREC_NNH"></div>
<p></p>
<div class="ad MREC_NNH"></div>
<p></p>
<p></p>


<script>
let adsKeywords = {
  "pageType": ["article"],
  "interests": [
    "Internacional",
    "Conhecida a equipa argentina que tentou contratar Cristiano Ronaldo",
    "David Nunes",
    "River Plate",
    "Cristiano Ronaldo",
    "Real Madrid cada vez mais perto de contratar promessa argentina",
    "«Amanhã é dia de fazer história outra vez»: a mensagem de Ronaldo",
    "Ronaldo: «Se um selecionador que vai a uma final é contestado...»"
  ],
  "id": 2025060720203600106
};
</script>

<script>
yieldlove_prevent_autostart = true;
var yieldlove_cmd = yieldlove_cmd || [];
</script>
<script src="https://cdn-a.yieldlove.com/v2/yieldlove.js?abola.pt"></script>
<script src="https://securepubads.g.doubleclick.net/tag/js/gpt.js" async></script>

<script>
window.googletag = window.googletag || { cmd: [] };

document.addEventListener("DOMContentLoaded", () => {
  const pub = window.pub = window.pub || {};
  pub.oopSlot = null;
  pub.dbTimeout = null;
  pub.adSlots = [];
  pub.slotObjs = {};
  pub.slotPos = {MastHead_NNH: 0, MREC_NNH: 0, footersticky: 0, mrec_inread_noticias: 0, oop: 0 };
  pub.BP = [0, 640, 768, 1025, 1260];
  pub.dbDelay = 100;
  pub.currentBP = breakPoint(window.innerWidth);
  pub.fetchDistance = Math.max(500, Math.floor(window.innerHeight * 0.85));
  pub.fetchFooterStickyDistance = 300;
  pub.footerStickyLoaded = false;
  pub.setFooterStickyStorageCap= "adStickyCap";
  pub.footerStickyTimer = 15 * 60 * 1000;
  pub.fEnd = [encodeURI(window.location.href.match(/([^\?]*)\/*$/)[0])];
  pub.KV = {};

  const oopEl = document.createElement("div");
  oopEl.className = "ad oop";
  oopEl.id = "oop";
  oopEl.style.cssText = "position:fixed;left:0;top:0;z-index:2147483645;width:1px;height:1px;";
  document.body.prepend(oopEl);

  if (typeof adsKeywords === "object" && adsKeywords !== null) {
    function formatKeyword(str) {
      if (typeof str !== 'string') return str;
      return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .replace(/[«»"'=!+*~^()\[\]<>,;#&]/g, "")
        .replace(/\s+/g, "-")
        .toLowerCase();
    }
    Object.entries(adsKeywords).forEach(([key, value]) => {
      pub.KV[key] = Array.isArray(value) ? value.map(formatKeyword) : formatKeyword(value);
    });
  }
  function breakPoint(width) {
    for (let i = pub.BP.length - 1; i >= 0; i--) {
      if (width >= pub.BP[i]) return i;
    }
    return 0;
  }
  function displayFooterSticky() {
    const lastTime = parseInt(localStorage.getItem(pub.setFooterStickyStorageCap), 10);
    if (!lastTime || isNaN(lastTime)) return true;
    return (Date.now() - lastTime) > pub.footerStickyTimer;
  }
  function setFooterStickyCap() {
    localStorage.setItem(pub.setFooterStickyStorageCap, Date.now());
  }
  function getSlotName(el) {
    const validSlots = ['MastHead_NNH', 'MREC_NNH', 'mrec_inread_noticias', 'footersticky'];
    for (const slot of validSlots) {
      if (el.classList.contains(slot)) return slot;
    }
    return null;
  }
  googletag.cmd.push(() => {
    pub.ads = googletag.pubads();
    pub.ads.setTargeting("end", pub.fEnd);
    if (pub.KV.id) pub.ads.setTargeting("id", String(pub.KV.id));
    if (pub.KV.interests) {
      pub.ads.setTargeting("category", pub.KV.interests[0]);
      if (pub.KV.interests.length > 1) {
        pub.ads.setTargeting("kw", pub.KV.interests.slice(1));
      }
    }
    if (pub.KV.pageType) pub.ads.setTargeting("type", pub.KV.pageType);
    pub.ads.setCentering(true);
    pub.ads.enableVideoAds();
    pub.ads.enableSingleRequest();
    pub.ads.disableInitialLoad();
    pub.slotDimensions = {
      MastHead_NNH: [[1260, 220], [970, 250], [970, 90], [728, 90], [640, 100], [468, 60], [460, 60], [320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]],
      MREC_NNH: [[300, 600], [300, 250], [336, 320], [336, 280], [160, 600], [120, 600], [250, 250], [200, 200], [320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]],
      mrec_inread_noticias: [[300, 250],[336, 320],[336, 280],[250, 250],[200, 200],[640, 100],[468, 60],[460, 60],[320, 100],[320, 160],[300, 120],[320, 50],[300, 100],[300, 75],[300, 50],[1, 1],'fluid'],
      footersticky: [[970, 90], [728, 90], [640, 100], [468, 60], [460, 60], [360, 100], [360, 50], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]]
    };
    pub.oopSlot = googletag.defineOutOfPageSlot("/417417404/oop", "oop").setCollapseEmptyDiv(true, true).addService(pub.ads);

    function buildSizeMapping(el, slotName) {
      if (slotName === 'MREC_NNH') {
        return googletag.sizeMapping()
          .addSize([pub.BP[3], 0], [[300, 600], [300, 250], [250, 250], [200, 200], [160, 600], [120, 600], [1, 1]])
          .addSize([pub.BP[2], 0], [[300, 600], [300, 250], [250, 250], [200, 200], [1, 1]])
          .addSize([pub.BP[1], 0], [[300, 600], [300, 250], [250, 250], [200, 200], [300, 120], [300, 100], [300, 75], [300, 50], [1, 1]])
          .addSize([pub.BP[0], 0], [[300, 600], [300, 250], [336, 320], [336, 280], [250, 250], [200, 200], [320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]])
          .build();
      }
      if (slotName === 'MastHead_NNH') {
        return googletag.sizeMapping()
          .addSize([pub.BP[4], 200], [[1260, 220], [970, 250], [970, 90], [728, 90], [640, 100], [1, 1]])
          .addSize([pub.BP[3], 200], [[970, 250], [970, 90], [728, 90], [640, 100], [1, 1]])
          .addSize([pub.BP[2], 200], [[728, 90], [468, 60], [460, 60], [1, 1]])
          .addSize([pub.BP[1], 100], [[468, 60], [460, 60], [320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]])
          .addSize([pub.BP[0], 0], [[320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]])
          .build();
      }
      if (slotName === 'mrec_inread_noticias') {
        return googletag.sizeMapping()
          .addSize([pub.BP[2], 0], [[640, 100], [300, 250], [468, 60],[460, 60],[250, 250],[200, 200],[1, 1],'fluid'])
          .addSize([pub.BP[1], 0], [[468, 60],[460, 60],[320, 160],[320, 100],[320, 50],[300, 250],[300, 120],[300, 100],[300, 75],[300, 50],[250, 250],[200, 200],[1, 1],'fluid'])
          .addSize([pub.BP[0], 0], [[336, 320], [336, 280],[320, 160],[320, 100],[320, 50],[300, 250],[300, 120],[300, 100],[300, 75],[300, 50],[250, 250],[200, 200],[1, 1],'fluid'])
          .build();
      }
      if (slotName === 'footersticky') {
        return googletag.sizeMapping()
          .addSize([pub.BP[3], 0], [[970, 90], [728, 90], [640, 100], [1, 1]])
          .addSize([pub.BP[2], 0], [[728, 90], [468, 60], [640, 100], [1, 1]])
          .addSize([pub.BP[1], 0], [[468, 60], [460, 60], [360, 100], [360, 50], [320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]])
          .addSize([pub.BP[0], 0], [[320, 100], [320, 160], [300, 120], [320, 50], [300, 100], [300, 75], [300, 50], [1, 1]])
          .build();
      }
      return null;
    }

   function defineSlot(el, slotName, slotId) {
      el.id = slotId;
      const mapping = buildSizeMapping(el, slotName);
      if (!mapping || !pub.slotDimensions[slotName]) return null;
      const slotObj = googletag.defineSlot('/417417404/'+slotName, pub.slotDimensions[slotName], slotId)
        .defineSizeMapping(mapping)
        .addService(pub.ads)
        .setTargeting("pos", [parseInt(el.dataset.pos)]);
      pub.slotObjs[slotId] = slotObj;
      pub.adSlots.push(slotId);
      return slotObj;
    }

    const adElements = Array.from(document.getElementsByClassName('ad'))
      .filter(el => {
        const slot = getSlotName(el);
        return slot !== null;
      });

    adElements.forEach(el => {
      const slotName = getSlotName(el);
      const pos = ++pub.slotPos[slotName];
      const slotId = slotName + pos;
      el.dataset.pos = pos;
      el.dataset.slotType = slotName;
      el.id = slotId;
    });

    pub.ads.addEventListener("slotRequested", function(event) {
      const el = document.getElementById(event.slot.getSlotElementId());
      if (el && el.id !== "oop") {el.classList.remove("\u2714"); }
      });

    pub.ads.addEventListener('slotRenderEnded', function (event) {
      const el = document.getElementById(event.slot.getSlotElementId());

      /* autorefresh check advertiser id
      if (pub.aRefreshID.includes(String(event.advertiserId))) {
        if (el && el.id !== "oop") {
          el.dataset.autorefresh = "true";
        }
      }
      */


      if (event.slot.getSlotElementId() === 'oop') { //teste para o footer + intro
      //if (event.slot.getSlotElementId() === 'oop' && event.isEmpty) {
        googletag.pubads().clear([pub.oopSlot]);
        googletag.destroySlots([pub.oopSlot]);

          window.addEventListener('scroll', function stickyAd() {
            if (pub.footerStickyLoaded) return;
            if (!displayFooterSticky()) return;

            if (pub.dbTimeout) clearTimeout(pub.dbTimeout);

            pub.dbTimeout = setTimeout(() => {
              const scrollY = window.scrollY || window.pageYOffset;
              if (scrollY >= pub.fetchFooterStickyDistance) {
                pub.footerStickyLoaded = true;
                window.removeEventListener('scroll', stickyAd);

                if (!document.getElementById('footersticky1')) {
                  setFooterStickyCap();
                  const stickyEl = document.createElement('div');
                  stickyEl.className = 'ad footersticky';
                  stickyEl.id = 'footersticky1';
                  stickyEl.dataset.slotType = "footersticky";
                  stickyEl.dataset.pos = "1";
                  document.body.appendChild(stickyEl);
                  console.log("observed sticky");
                  adLoader.observe(stickyEl);

              const sticky = document.getElementById('footersticky1');
              if (!event.isEmpty && sticky) {
                    if (!document.getElementById('stickyAD')) {
                          const style = document.createElement('style');
                          style.id = 'stickyAD';
                          style.textContent ='@keyframes stickyUP {from { transform: translateY(100%); opacity: 0; }to { transform: translateY(0); opacity: 1; }}.sticky-slide-in {animation: stickyUP 0.4s ease-out forwards;}';
                          sticky.appendChild(style);
                    }
                          sticky.style.cssText = 'position: fixed; bottom: 0; top: auto; left: 0; width: 100%; z-index: 2147483644; display: flex; justify-content: center; pointer-events: none;';
                          sticky.classList.add('sticky-slide-in');
                          const adContainer = sticky.firstElementChild;
                          adContainer.style.cssText += 'pointer-events: auto; position: relative;';
                          const closeButtonAd = document.createElement('div');
                          closeButtonAd.textContent = '×';
                          closeButtonAd.style.cssText =
                          'position: absolute; top: -45px; right: 0; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; font-size: 20px; line-height: 1; color: #fff; background: rgba(34, 34, 34, 0.9); border-radius: 8px; box-shadow: 0 2px 6px rgba(0, 0, 0, .3); cursor: pointer; user-select: none; z-index: 10000; font-family: sans-serif;';
                          const pubLabel = document.createElement('div');
                          pubLabel.textContent = 'PUB';
                          pubLabel.style.cssText =
                          'position: absolute; bottom: 1px; left: 7px; font-size: 7px; color: #fff; background: rgba(0, 0, 0, 0.7); padding: 1px 4px; border-radius: 3px; font-family: sans-serif; pointer-events: none;';
                          closeButtonAd.appendChild(pubLabel);
                          adContainer.appendChild(closeButtonAd);
                          closeButtonAd.addEventListener('click', () => {
                          googletag.destroySlots([event.slot]);
                          sticky.remove();
                    });
                    }
                }
              }
              pub.dbTimeout = null;
            }, pub.dbDelay);
          });


         

        const gamInterstitial = googletag.defineOutOfPageSlot("/417417404/Interstitial", googletag.enums.OutOfPageFormat.INTERSTITIAL);
        if (gamInterstitial) {
          gamInterstitial
            .setTargeting("pos", "gaminterstitial")
            .addService(pub.ads)
            .setConfig({
              interstitial: {
                triggers: { unhideWindow: true },
              },
            });
          googletag.display(gamInterstitial);
        }
      }
    });

    pub.ads.addEventListener("impressionViewable", function (event) {
      if (!event.isEmpty && event.slot != pub.oopSlot) {
        const el = document.getElementById(event.slot.getSlotElementId());
        el.classList.add("\u2714");
      /*
        if (el.dataset.autorefresh === "true") {
          setTimeout(function(){
            delete el.dataset.autorefresh;
            const slotObj = pub.ads.getSlots().find(slot => slot.getSlotElementId() === el.id);
            if (slotObj) {
              const adUnitPath = slotObj.getAdUnitPath();
              yieldlove_cmd.push(() => {
                YLHH.bidder.cloneUnit(adUnitPath, el.id, true);
              });
            }
          }, pub.impressionRefreshDelay);
        }*/
      }
    });


    const adLoader = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const el = entry.target;
          const slotType = el.dataset.slotType;
          const pos = el.dataset.pos;
          const slotId = slotType + pos;
          if (!el.dataset.loaded && window.getComputedStyle(el).display !== 'none') {
            el.dataset.loaded = "true";
            const slotObj = defineSlot(el, slotType, slotId);
            googletag.display(slotId);
            if (slotObj) {
              yieldlove_cmd.push(() => {
                YLHH.bidder.cloneUnit(slotObj.getAdUnitPath(), slotId, true);
              });
            }
          }
          adLoader.unobserve(el);
        }
      });
    }, { rootMargin: pub.fetchDistance + "px 0px" });

    adElements.forEach(el => {adLoader.observe(el)});

    googletag.enableServices();
    googletag.pubads().refresh([pub.oopSlot]);
  });

  

  window.addEventListener('resize', function () {
    if (pub.dbTimeout) clearTimeout(pub.dbTimeout);
    pub.dbTimeout = setTimeout(() => {
      const newBreakpoint = breakPoint(window.innerWidth);
      if (newBreakpoint !== pub.currentBP) {
        pub.currentBP = newBreakpoint;
        const reloadPos = [];
        const renewAdEls = Array.from(document.getElementsByClassName('ad'))
          .filter(el =>
            el.dataset.loaded === "true" &&
            el.id &&
            el.id !== "oop" &&
            window.getComputedStyle(el).display !== "none"
          );
        renewAdEls.forEach(el => {
          const slotObj = pub.ads.getSlots().find(slot => slot.getSlotElementId() === el.id);
          if (slotObj) {
            reloadPos.push(slotObj);
          }
        });
        if (reloadPos.length > 0) {
          googletag.pubads().clear(reloadPos);
          googletag.pubads().refresh(reloadPos);
        }
      }
      pub.dbTimeout = null;
    }, pub.dbDelay);
  });
});
</script>

</body>
</html>
