<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cinematic Poster Wall â€” HTML + JS</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
:root{
  --bg:#fafafa;
  --panel:#fff;
  --ink:#111;
  --muted:#6b7280;
  --ring:rgba(0,0,0,.08);

  /* Buttons (generic .btn â€” NOT the nav tabs) */
  --btn-bg:#f3f4f6;
  --btn-fg:#3f3f3f;
  --btn-border:rgba(0,0,0,.14);
  --btn-hover:#e9eaee;
  --btn-active:#f6d809;
  --btn-active-fg:#111;
  --btn-active-border:#d7c800;

  --radius:16px;
  --radius-btn:3px;

  --shadow:0 1px 0 var(--ring), 0 4px 20px rgba(0,0,0,.06);

  --z-masthead:50;
  --z-section-head:5;

  /* Section bar/tail */
  --brand-red:#E20613;
  --tail-w-sm:148px;
  --bar-h-sm:14px;
  --tail-w-lg:185px;
  --bar-h-lg:16px;

  /* Tabs metrics */
  --tab-fs:14px;
  --tab-pt:6px;
  --tab-pb:12px;
  --tab-ul:8px;
}

/* Typography */
html, body { font-family: 'Open Sans', sans-serif; }
h1, h2, h3, h4, h5, h6{ font-weight:800; }
strong, b{ font-weight:600; }

/* ==== Global button reset ==== */
button,
[type="button"],
[type="submit"],
[type="reset"],
[role="button"]{
  -webkit-appearance:none;
  appearance:none;
  background:transparent;
  border:0;
  border-radius:0;
  padding:0;
  margin:0;
  font:inherit;
  color:inherit;
  line-height:inherit;
  letter-spacing:inherit;
  text-align:inherit;
  text-transform:inherit;
  box-shadow:none;
  outline:none;
  -webkit-tap-highlight-color:transparent;
  background-clip:padding-box;
  cursor:pointer;
}
button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner{ border:0; padding:0; }
button:disabled,
[type="button"]:disabled,
[type="submit"]:disabled,
[type="reset"]:disabled{ cursor:not-allowed; opacity:.6; }


/* =========================================================
   HERO â€“ HIGHLIGHTS (Imprensa / Social Media / A Bola TV)
   ========================================================= */
.hero-highlights{
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 20px;
}
@media (max-width: 980px){
  .hero-highlights{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .hero-highlights{ grid-template-columns: 1fr; }
}

.hl-card{
  background:#fff;
  color:#111;
  border-radius: 16px;
  border: 1px solid var(--ring);
  box-shadow: var(--shadow);
  padding: 16px 16px 14px 16px;
}

.hl-head{
  display:flex; align-items:center; gap:10px;
  padding-bottom:10px; margin-bottom:12px;
  border-bottom: 2px solid #efefef;
}
.hl-icon{
  width:34px; height:34px; display:inline-flex;
  align-items:center; justify-content:center;
  border-radius:10px;
  background:#f6f6f6;
}
.hl-icon svg{ width:22px; height:22px; display:block; }
.hl-title{
  font-size:18px; font-weight:800; letter-spacing:.2px;
}

.hl-rows{ display:flex; flex-direction:column; gap:10px; }
.hl-row{
  display:flex; align-items:baseline; justify-content:space-between; gap:12px;
}
.hl-row .label{ color:#6b7280; font-weight:600; font-size:12px; text-transform:uppercase; }
.hl-row .num{ font-weight:800; font-size:26px; line-height:1; }
.hl-row .sub{ color:#374151; font-size:13px; }

/* light pill list (e.g., â€œFollowersâ€, â€œAverage impressionsâ€, etc.) */
.hl-list{ display:flex; flex-direction:column; gap:8px; }
.hl-pill{
  display:flex; align-items:center; gap:8px;
  background:#f7f7f7; border:1px solid var(--ring);
  border-radius:12px; padding:8px 10px; font-size:13px;
}
.hl-pill .k{ font-weight:700; }

/* =========================================================
   HERO â€“ AUDIENCE PANELS (Website & Mobile App | Social Media)
   ========================================================= */
.hero-audience-panels{
  margin-top: 18px;
}
.aud-grid{
  display:grid; gap: 18px;
  grid-template-columns: 1fr 1fr;
}
@media (max-width: 980px){ .aud-grid{ grid-template-columns: 1fr; } }

.aud-panel{
  background: rgba(0,0,0,.72);
  color:#fff;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 18px;
  box-shadow: 0 6px 22px rgba(0,0,0,.25);
  padding: 18px 18px 16px 18px;
  position: relative;
}

/* heading with small icon */
.aud-head{
  display:flex; align-items:center; gap:10px; margin-bottom:14px;
  font-size:22px; font-weight:800; letter-spacing:.3px;
}
.aud-head .ic{
  width:34px; height:34px; display:inline-flex;
  align-items:center; justify-content:center;
  border-radius:10px; background:rgba(255,255,255,.1);
}
.aud-head svg{ width:20px; height:20px; display:block; }

/* male/female split row (e.g., 27% / 73%) */
.aud-split{
  display:grid; grid-template-columns: 1fr 1fr; gap: 18px;
  margin: 6px 0 12px 0;
}
.split-box{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  padding: 12px 12px 10px 12px;
  text-align:center;
}
.split-box .pct{ font-size:40px; font-weight:900; line-height:1; }
.split-box .cap{ font-size:12px; text-transform:uppercase; opacity:.9; margin-top:4px; }

/* â€œclasseâ€ / â€œidadesâ€ lines */
.aud-lines{ display:flex; flex-direction:column; gap:12px; margin-top: 8px; }
.aud-line{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  border-top:1px dashed rgba(255,255,255,.18);
  padding-top:10px;
}
.aud-line .label{ font-weight:800; letter-spacing:.3px; text-transform:uppercase; }
.aud-line .value{ opacity:.95; }

/* big red % (e.g., 58%, 72%) */
.big-pct{
  font-size:56px; font-weight:900; color:#f44; /* red highlight */
  color: var(--brand-red);
  line-height:1; letter-spacing:.5px;
}

/* simple horizontal bar list for ages buckets */
.bar-list{
  list-style:none; margin:8px 0 0 0; padding:0; display:flex; flex-direction:column; gap:8px;
}
.bar-item{
  display:grid; grid-template-columns: 56px 1fr auto; gap:8px; align-items:center;
  font-variant-numeric: tabular-nums;
}
.bar-item .age{ opacity:.9; font-size:12px; }
.bar{
  position:relative; height:10px; border-radius:999px; overflow:hidden;
  background: rgba(255,255,255,.14);
}
.bar::after{
  content:""; position:absolute; inset:0 100% 0 0; border-radius:999px;
  background: var(--brand-red);
  transform: translateZ(0);
  width: var(--w, 0%);
}
.bar-item .pct{ font-weight:700; font-size:12px; }

/* mini legend / micro copy */
.aud-foot{ margin-top:10px; font-size:12px; opacity:.8; }

/* spacing harmony with the rest of the hero */
.hero .hl-card,
.hero .aud-panel{ backdrop-filter: saturate(1.1); }



/* Accessible focus ring */
button:focus-visible,
[type="button"]:focus-visible,
[type="submit"]:focus-visible,
[type="reset"]:focus-visible,
[role="button"]:focus-visible,
a.brand:focus-visible,
.tabs button:focus-visible,
.btn:focus-visible{
  outline:2px solid rgba(246,216,9,.9);
  outline-offset:2px;
  border-radius:var(--radius-btn);
}
@media (max-width:680px){
  button,
  [type="button"],
  [type="submit"],
  [type="reset"],
  [role="button"]{
    -webkit-appearance:none !important;
    appearance:none !important;
  }
}

/* ===== Global layout ===== */
html { scroll-padding-top: var(--mastpad, 96px); }
@media (max-width:680px){ html { scroll-padding-top: var(--mastpad, 120px); } }
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
}

/* ===== Sticky masthead ===== */
.masthead{
  position:fixed; inset:0 0 auto 0; z-index:var(--z-masthead);
  background:#a80f1d;
  backdrop-filter:saturate(1.2) blur(8px);
  border-bottom:1px solid var(--ring);
  box-shadow:0 2px 12px rgba(0,0,0,.06);
}
.masthead > .brand{
  display:block;
  width:100%;
  background:#e20613;
  border:0;
  height:auto;
}
.brand-inner{
  max-width:1200px;
  margin:0 auto;
  padding:15px 24px 6px 24px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.brand-left{ display:flex; align-items:center; gap:10px; }
.brand-inner svg{ display:block; height:30px; width:auto; }

/* White pill button */
.brand-contact{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 16px;
  background:#fff;
  color:#e20613;
  border-radius:12px;
  font-weight:800;
  text-transform:uppercase;
  font-size:14px;
  line-height:1;
  letter-spacing:.4px;
  text-decoration:none;
  border:1px solid rgba(0,0,0,.06);
  box-shadow:0 1px 0 var(--ring), 0 2px 10px rgba(0,0,0,.12);
  transition:transform .02s ease, box-shadow .15s ease, background-color .15s ease;
}
.brand-contact:hover{ text-decoration:none; color:#000; }
.brand-contact:active{ transform:translateY(1px); }

.masthead-inner{
  max-width:1200px;
  margin:0 auto;
  padding:8px 24px 10px 24px;
  display:grid;
  grid-template-columns:auto 1fr;
  align-items:center;
  gap:16px;
  width:100%;
  transition: height .24s ease-out;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.12),
              inset 0 -1px 0 rgba(0,0,0,.06);
}

/* NAV TABS */
.tabs{ display:flex; gap:18px; padding:0; background:transparent; border:0; }
.masthead-inner .tabs button{
  position:relative;
  border:0;
  background:transparent;
  color:rgba(255,255,255,.88);
  padding:var(--tab-pt) 0 var(--tab-pb);
  text-transform:uppercase;
  font-weight:800;
  font-size:var(--tab-fs);
  line-height:1.2;
  white-space:nowrap;
  transition:color .18s ease;
}
.masthead-inner .tabs button:hover{ color:#fff; }
.masthead-inner .tabs button.active{ color:#fff; }
.masthead-inner .tabs button::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:var(--tab-ul);
  height:2px;
  background:#f6d809;
  transform:scaleX(0);
  transform-origin:left center;
  transition:transform .18s ease;
}
/* default: only .active shows underline */
.masthead-inner .tabs button.active::after{ transform:scaleX(1); }

/* enable hover underline only on devices that actually have hover (desktops) */
@media (hover: hover) and (pointer: fine){
  .masthead-inner .tabs button:hover::after{ transform:scaleX(1); }
}


.context-slot{
  display:flex; justify-content:flex-end;
  min-height:calc(1.2 * var(--tab-fs) + var(--tab-pt) + var(--tab-pb));
  opacity:0; pointer-events:none; transition:opacity .24s ease-out;
}
.context-slot.is-open{ opacity:1; pointer-events:auto; }
.context-wrap{ position:relative; height:auto; transition:height .24s ease-out; width:100%; contain: layout style paint; }
.context-pane{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:flex-end; gap:6px;
  opacity:0; pointer-events:none; transition:opacity .24s ease-out;
}
.context-pane.is-live{ opacity:1; pointer-events:auto; }

.header-spacer{ height:96px }

/* ===== Sections (default constrained width) ===== */
.section{ max-width:1200px; margin:0 auto; padding:0 24px; }
.section + .section{ margin-top:12px; }

/* ===== Abola (hero) section needs to be full-bleed ===== */
#sec-abola{
  max-width:none;      /* remove 1200px cap */
  padding:0;           /* no side padding wrapper */
  margin:0;            /* no auto-centering */
  width:100%;          /* take full viewport width */
}

/* ===== Sticky section headers (for other sections) ===== */
.section-head{
  position:sticky; top:0; z-index:var(--z-section-head);
  background:linear-gradient(180deg,#fff,#fafafa);
  border-bottom:1px solid var(--ring);
  padding:12px 0; margin-bottom:8px;
  display:flex; align-items:center; gap:12px;
}
.section-head h2{ margin:0; font-size:1.55rem; text-transform:uppercase; }

/* Grid */
.grid{ display:grid; gap:18px; grid-template-columns:repeat(1,minmax(0,1fr)); }
@media (min-width:700px){ .grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1000px){ .grid{ grid-template-columns:repeat(3,minmax(0,1fr)); } }
@media (min-width:1200px){ .grid{ grid-template-columns:repeat(4,minmax(0,1fr)); } }

/* Optional notice */
.imprensa-note{ margin:6px 0 16px 0; padding:12px 16px; border:1px dashed var(--ring); background:#fff; border-radius:12px; color:var(--muted); font-size:12px; }

/* TV panel */
.tv-panel{ border:1px solid var(--ring); background:#fff; border-radius:16px; padding:16px; box-shadow:var(--shadow); }
.tv-panel h2{ margin:0 0 6px 0; font-size:20px }
.tv-panel .muted{ color:var(--muted) }

/* Long text blocks */
.doc{ background:#fff; border:1px solid var(--ring); border-radius:12px; padding:16px; box-shadow:var(--shadow); color:#111; line-height:1.6; }

/* Footer */
.site-footer{ max-width:1200px; margin:32px auto; padding:12px 24px; color:var(--muted); font-size:12px; text-align:center; }





/* ===== Cards ===== */
.card{ background:transparent; border:0 }
.poster{ position:relative; aspect-ratio:4/3; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow); background:#f3f4f6; }
.poster .grad{ position:absolute; inset:0 }
.poster .label{ position:absolute; left:8px; bottom:8px; background:rgba(0,0,0,.66); color:#fff; font-size:10px; padding:4px 8px; border-radius:999px; }
.meta{ padding:8px; background:transparent }
.title{ display:flex; align-items:center; justify-content:space-between; gap:8px; font-weight:700 }

/* ===== Drawer + Scrim ===== */
.scrim{ position:fixed; inset:0; background:rgba(0,0,0,.28); opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:9990; }
.scrim.show{ opacity:1; pointer-events:auto }
.drawer{ position:fixed; top:0; right:-560px; width:100%; max-width:560px; height:100%; background:#fff; border-left:1px solid var(--ring); box-shadow:-8px 0 24px rgba(0,0,0,.12); display:flex; flex-direction:column; transition:right .25s ease; z-index:10000; }
.drawer.show{ right:0 }
.drawer-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; position:sticky; top:0; background:#fff; padding:16px 16px 8px 16px; border-bottom:1px solid var(--ring); }
.drawer-title{ margin:0 0 2px 0; font-size:18px }
.drawer-content{ padding:16px; overflow:auto; display:flex; flex-direction:column; gap:16px }
.preview{ border:1px solid var(--ring); border-radius:16px; overflow:hidden; min-height:160px }
.specs{ border:1px solid var(--ring); border-radius:12px; padding:12px }
.specs dl{ display:grid; grid-template-columns:1fr 1fr; gap:8px }
.specs dt{ color:var(--muted); font-size:12px }
.specs dd{ margin:0; font-weight:600 }

/* ===== Generic .btn (chips etc.) ===== */
.btn{
  border:1px solid var(--btn-border);
  background:var(--btn-bg);
  color:var(--btn-fg);
  padding:6px 10px;
  border-radius:var(--radius-btn);
  font-weight:600;
  font-size:14px;
  line-height:1.2;
  text-transform:capitalize;
  transition:background-color .15s ease, color .15s ease, border-color .15s ease, transform .02s ease, box-shadow .15s ease;
}
.btn:hover{ background:var(--btn-hover); }
.btn:active{ transform:translateY(1px); }
.btn.primary{
  background:var(--btn-active);
  color:var(--btn-active-fg);
  border-color:var(--btn-active-border);
  box-shadow:0 1px 0 var(--ring), 0 2px 10px rgba(0,0,0,.10);
}
.btn.ghost{
  background:transparent;
  color:var(--ink);
  border:1px dashed var(--btn-border);
}
.close-drawer{ white-space:nowrap }

/* ===== Responsive ===== */
@media (max-width:680px){
  .brand-inner{ padding:12px 16px 6px 16px; }
  .brand-inner svg{ height:26px; }

  .masthead-inner{
    grid-template-columns:1fr;
    gap:8px;
    padding:6px 16px 10px 16px;
  }

  .main-tabs, .context-tabs{
    width:100%; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:thin;
  }

  .tabs{ gap:14px; }

  :root{
    --tab-fs:13px;
    --tab-pb:10px;
    --tab-ul:6px;
  }

  .btn{ padding:6px 8px; font-size:13px; }
}

/* ---- TV ratecard table + scroller ---- */
.hscroll{ overflow-x:auto; -webkit-overflow-scrolling:touch }
.rate-table{
  border-collapse:collapse;
  font-size:13px;
  table-layout:fixed;
  font-variant-numeric:tabular-nums;
  width:max-content;
}
.rate-table th,.rate-table td{
  padding:8px; border:1px solid var(--ring); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.rate-table thead th{ position:sticky; top:0; background:#f8f8f8; z-index:2 }
.rate-table .sticky-col{
  position:sticky; left:0; background:#fff; z-index:3; font-weight:600;
}
.rate-table .section-row th{
  padding:10px; background:#f3f4f6; text-align:left; border-left:0; border-right:0;
}
.rate-table .section-row .sticky-col{ background:#f3f4f6; z-index:4 }
.rate-table td:not(.sticky-col), .rate-table th:not(.sticky-col){ text-align:right }

@media (max-width:640px){
  .rate-table{ font-size:12px }
  .rate-table th,.rate-table td{ padding:6px }
}

/* ============================
   Section bar with SVG tail
   ============================ */
.section-head::after{
  content:"";
  flex:1 1 auto;
  height:var(--bar-h-sm);
  background:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='148' height='14' viewBox='0 0 148 14' fill='none'><path d='M8.20117 0H0L0.0117188 13.9785L8.20117 0ZM22.1719 0H12.0762L3.87598 14H13.9707L22.1719 0ZM36.1533 0H25.6748L17.4736 14H27.9424L36.1533 0ZM50.124 0H39.2822L31.0811 14H41.9229L50.124 0ZM64.0947 0H52.8799L44.6787 14H55.8945L64.0947 0ZM78.0664 0H66.4873L58.2861 14H69.8652L78.0664 0ZM92.0479 0H80.0859L71.8848 14H83.8467L92.0479 0ZM106.019 0H93.6934L85.4824 14H97.8174L106.019 0ZM119.99 0H107.291L99.0908 14H111.789L119.99 0ZM133.971 0H120.899L112.688 14H125.761L133.971 0ZM139.741 14L147.942 0H134.497L126.296 14H139.741ZM148 0.164088L139.895 14H148V0.164088Z' fill='%23E20613'/></svg>") right center / var(--tail-w-sm) 100% no-repeat,
    linear-gradient(var(--brand-red), var(--brand-red)) left / calc(100% - var(--tail-w-sm)) 100% no-repeat;
}
@media (min-width:1024px){
  .section-head::after{
    height:var(--bar-h-lg);
    background:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='185' height='16' viewBox='0 0 185 16' fill='none'><path d='M9.92676 0H0L0.0141602 15.973L9.92676 0ZM26.8315 0H14.6128L4.68604 16H16.9048L26.8315 0ZM43.7476 0H31.1826L21.2559 16H33.8208L43.7476 0ZM60.6523 0H47.752L37.8252 16H50.7256L60.6523 0ZM77.5566 0H64.3208L54.394 16H67.6299L77.5566 0ZM94.4614 0H80.8896L70.9629 16H84.5347L94.4614 0ZM111.378 0H97.4707L87.5439 16H101.452L111.378 0ZM128.283 0H114.028L104.101 16H118.356L128.283 0ZM145.187 0H130.597L120.67 16H135.26L145.187 0ZM162.103 0H147.166L137.239 16H152.176L162.103 0ZM168.814 16L178.741 0H162.539L152.612 16H168.814ZM178.999 0.187529L169.001 16H178.999V0.187529Z' fill='%23E20613'/></svg>") right center / var(--tail-w-lg) 100% no-repeat,
      linear-gradient(var(--brand-red), var(--brand-red)) left / calc(100% - var(--tail-w-lg)) 100% no-repeat;
  }
}

/* ===== HERO INTRO (sec-abola) ===== */
.hero{
  position:relative;
  width:100%;
  max-width:none;
  margin:0;
  padding:0;
  background:#e20613;
  color:#fff;
  min-height:100vh;     /* full viewport */
  display:flex;
  align-items:center;
}
.hero-inner{
  max-width:1200px;     /* constrain content inside */
  margin:0 auto;
  padding:80px 24px 60px 24px;
  display:flex;
  flex-direction:column;
  gap:24px;
}



/* ===== HERO ONLY: diagonal-cut photo background ===== */
#head-abola.hero{
  /* provide your two images here */
  --hero-img-land: url("fundo1.png");
  --hero-img-port: url("fundo3.png");

  position: relative;
  isolation: isolate;      /* keeps blend effects inside */
  background: #E20613;     /* brand red base */
  overflow: hidden;        /* hide the diagonal mask edges */
}

/* Photo layer */
#head-abola.hero::before{
  content:"";
  position:absolute; inset:0;
  background-image: var(--hero-img-land);
  background-repeat:no-repeat;
  background-size:cover;
  background-position: right center;     
  opacity:.9;

 
  mix-blend-mode:multiply;              
 filter: grayscale(100%) contrast(1.05) brightness(0.85);
  
  z-index:-2;
}





/* The diagonal red â€œcutâ€ on the left that hides part of the image */
/*
#head-abola.hero::after{
  content:"";
  position:absolute; inset:0;
  background:#E20613;
  clip-path: polygon(0 0, 0% 0, 108% 390%, 0 100%);
  z-index:-1;  
}
*/


/* Keep the content safely above the effects */
#head-abola.hero .hero-inner{ position:relative; z-index:1; }

/* === Portrait tweaks: swap image & widen mask so text never clashes === */
@media (orientation: portrait){
  #head-abola.hero::before{
    background-image: var(--hero-img-port);

    background-position: 68% center; 
  }
  #head-abola.hero::after{
    /* a little wider wedge on phones so copy has more room */
    clip-path: polygon(0 0, 52% 0, 70% 100%, 0 100%);
  }
}

/* Optional: very small screensâ€”nudge the text padding in a bit */
@media (max-width: 480px){
  #head-abola.hero .hero-inner{ padding-left: 18px; padding-right: 18px; }
}


@media (orientation: portrait){
  #head-abola.hero::after{
    content: none;         /* donâ€™t create the pseudo-element */
    display: none;         /* fallback */
    background: none;      /* safety */
    clip-path: none;
    mask: none;
    -webkit-mask: none;
  }
}

/* Optional extra safety for very small screens that might not expose orientation */
@media (max-width: 680px){
  #head-abola.hero::after{
    content: none;
    display: none;
    background: none;
    clip-path: none;
    mask: none;
    -webkit-mask: none;
  }
}


/* Logo combo â€” scales with viewport, keeps SMG ~18% taller than A BOLA */
.hero-logo-combo{
  /* desktop-ish baseline, auto-scales with vw; capped both ways */
  --abolaH: clamp(40px, 7.2vw, 100px);
  --smgH: calc(var(--abolaH) * 1.18);

  display:flex;
  align-items:flex-end;     /* align to baseline edge like in print */
  gap:16px;
  margin-bottom:20px;
  flex-wrap:nowrap;         /* keep side-by-side */
}

.hero-logo-abola{
  height:var(--abolaH);
  width:auto;
  display:block;
}

.hero-logo-smg{
  height:var(--smgH);
  width:auto;
  display:block;
}

/* Tight phones: nudge sizes down slightly so they stay harmonious */
@media (max-width:480px){
  .hero-logo-combo{
    --abolaH: clamp(32px, 9.5vw, 56px);
    --smgH: calc(var(--abolaH) * 1.18);
    gap:12px;
  }
}

/* Micro screens: allow wrap if it truly canâ€™t fit side-by-side */
@media (max-width:360px){
  .hero-logo-combo{ flex-wrap:wrap; align-items:center; }
  .hero-logo-smg{ order:2; }  /* keeps A BOLA on top if it wraps */
}


.hero-title {
  margin: 0;
  line-height: 1.2;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px; /* controla o espaÃ§o entre as duas linhas */
}

.hero-title .main {
  font-size: 2.6rem;
  font-weight: 800;
}

.hero-title .sub {
  font-size: 1.6rem;
  font-weight: 600;
  opacity: 0.9;
  margin-left: 4px; /* ligeiro recuo para colar no texto de cima */
  color: #f6d809;
}



.hero-metrics{ display:flex; gap:32px; flex-wrap:wrap; }
.metric .num{ font-size:2rem; font-weight:800; }
.metric .label{ font-size:0.9rem; opacity:.9; }
.hero-social{ display:flex; flex-wrap:wrap; gap:12px; }
.s-item{ background:rgba(255,255,255,.15); padding:6px 12px; border-radius:999px; font-size:0.9rem; }
.hero-audience{ font-size:0.95rem; line-height:1.5; }
.hero-video-wrap{ margin-top:20px; max-width:720px; border-radius:12px; overflow:hidden; box-shadow:0 4px 16px rgba(0,0,0,.25); }
.hero-video-wrap video{ width:100%; height:auto; display:block; }
.hero-footnote{ font-size:0.75rem; opacity:.8; margin-top:12px; }

@media(max-width:680px){
  .hero-inner{ padding:60px 16px 40px 16px; }
 .hero-title .main { font-size: 1.8rem; }
  .hero-title .sub  { font-size: 1.2rem; }
}


/* CondiÃ§Ãµes â€” masonry-style columns (no big gaps) */
#sec-condicoes .doc{
  font-size:15px;
  line-height:1.65;
}

.terms-wrap{ width:100%; }

/* â¬‡ï¸ Multi-column layout instead of grid */
.terms{
  list-style:none;
  margin:0;
  padding:0;
  column-count:1;          /* 1 col on mobile */
  column-gap:28px;         /* space between columns */
}

@media (min-width:900px){
  .terms{ column-count:2; } /* 2 columns on desktop */
}

/* Keep each item intact within a column */
.terms li{
  break-inside:avoid;
  -webkit-column-break-inside:avoid;
  page-break-inside:avoid;
  display:flex;
  align-items:flex-start;
  gap:10px;
  margin:0 0 18px 0;       /* vertical spacing between items */
}

/* Number + text */
.terms .n{
  flex:0 0 auto;
  min-width:1.6em;
  font-weight:800;
  color:#111;
}
.terms p{
  margin:0;
  color:#111;
}

/* --- Collapsible brand bar (slides down/up) --- */
.masthead{ --brandH: 60px; } /* will be updated by JS to exact height */

.masthead > .brand{
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transform: translateY(-12px);
  transition:
    max-height .28s ease,
    opacity .18s ease,
    transform .28s ease;
}

/* When visible (after hero), it pushes the masthead down to its normal spot */
.masthead.show-brand > .brand{
  max-height: var(--brandH);
  opacity: 1;
  transform: translateY(0);
}
  </style>
</head>
<body> 


        <!-- Masthead -->
  <div class="masthead" id="masthead">
    <div class="brand">
      <div class="brand-inner">
        <div class="brand-left">
          <!-- SVG wordmark -->
        <svg width="238" height="30" viewBox="0 0 238 30" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <g clip-path="url(#clip0_7239_3186)">
            <path d="M19.49 23.4532H0V28.9703H19.49V23.4532Z" fill="#FAFAFA"/>
            <path d="M29.8917 1.02734H10.3555V6.54438H29.8917V1.02734Z" fill="#FAFAFA"/>
            <path d="M48.4851 23.4531H24.2422V28.9702H48.4851V23.4531Z" fill="#FAFAFA"/>
            <path d="M34.0416 18.1602H13.7031V20.4533H34.0416V18.1602Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M26.9629 1.02734H18.6631L2.63281 28.9705H10.9308L26.9629 1.02734Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M46.0283 28.9702H33.3741L17.3438 1.02702L29.9908 1.02344L46.0283 28.9702Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M182.014 23.4642H171.209V6.54438H176.862V1.02734H153.52V6.54438H158.989V23.4642H153.52V28.9705H187.645V18.1602H182.014V23.4642Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M102.457 12.6594H102.183C103.755 11.4672 104.689 9.56258 104.689 7.61139C104.689 4.05629 101.749 1.02747 98.1468 1.02747H66.5273V6.5445H72.1358V23.4536H66.5273V28.9707H102.453C107.035 28.9707 110.751 25.3225 110.751 20.8258C110.751 16.3291 107.037 12.6594 102.453 12.6594H102.457ZM83.2176 6.5445H92.4725C93.9311 6.5445 95.1852 7.75997 95.1852 9.25111C95.1852 10.7422 93.9311 11.913 92.4725 11.913H83.2176V6.5445ZM95.733 23.4304V23.4536H83.2176V18.0852H95.733C97.213 18.0852 98.4688 19.3006 98.4688 20.7918C98.4688 22.2829 97.2148 23.4304 95.733 23.4304Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M135.184 0H130.254C120.141 0 111.918 5.96814 111.918 13.2162V16.7838C111.918 24.0319 120.141 30 130.254 30H135.184C145.297 30 153.52 24.0337 153.52 16.7838V13.2162C153.52 5.96814 145.297 0 135.184 0ZM138.986 21.5257C138.986 22.5013 138.039 23.4537 137.002 23.4537H128.434C127.399 23.4537 126.451 22.5013 126.451 21.5257V8.42592C126.451 7.36082 127.331 6.58393 128.169 6.58393H137.266C138.103 6.58393 138.984 7.36082 138.984 8.42592V21.5257H138.986Z" fill="#FAFAFA"/>
            <path d="M209.002 23.4531H189.512V28.9702H209.002V23.4531Z" fill="#FAFAFA"/>
            <path d="M219.403 1.02734H199.867V6.54438H219.403V1.02734Z" fill="#FAFAFA"/>
            <path d="M238.001 23.4531H213.758V28.9702H238.001V23.4531Z" fill="#FAFAFA"/>
            <path d="M223.553 18.1602H203.215V20.4533H223.553V18.1602Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M216.475 1.02734H208.175L192.145 28.9705H200.443L216.475 1.02734Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M235.54 28.9705H222.888L206.855 1.02734H219.51L235.54 28.9705Z" fill="#FAFAFA"/>
          </g>
          <defs><clipPath id="clip0_7239_3186"><rect width="238" height="30" fill="white"/></clipPath></defs>
        </svg>
        </div>
        <a class="brand-contact" href="mailto:sales@abola.pt">CONTACTO</a>
      </div>
    </div>

    <div class="masthead-inner">
      <nav class="tabs main-tabs" id="mainTabs" aria-label="Categorias">
        <button data-medium="digital">Digital</button>
        <button data-medium="imprensa">Imprensa</button>
        <button data-medium="tv">TV</button>
        <button data-medium="branded">Branded Content</button>
      </nav>
      <div class="context-slot">
        <nav class="tabs context-tabs" id="contextTabs" aria-label="Subcategoria"></nav>
      </div>
    </div>
  </div>

  <!--
  <div class="header-spacer" id="headerSpacer"></div>
  -->

  <!-- HERO SECTION (ABOLA INTRO) -->
  <section id="sec-abola" class="section">

    <header id="head-abola" class="hero" aria-label="A BOLA â€” introduÃ§Ã£o">
      <div class="hero-inner">



<div class="hero-logo-combo">


        <svg class="hero-logo-abola" width="238" height="30" viewBox="0 0 238 30" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <g clip-path="url(#clip0_7239_3186)">
            <path d="M19.49 23.4532H0V28.9703H19.49V23.4532Z" fill="#FAFAFA"/>
            <path d="M29.8917 1.02734H10.3555V6.54438H29.8917V1.02734Z" fill="#FAFAFA"/>
            <path d="M48.4851 23.4531H24.2422V28.9702H48.4851V23.4531Z" fill="#FAFAFA"/>
            <path d="M34.0416 18.1602H13.7031V20.4533H34.0416V18.1602Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M26.9629 1.02734H18.6631L2.63281 28.9705H10.9308L26.9629 1.02734Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M46.0283 28.9702H33.3741L17.3438 1.02702L29.9908 1.02344L46.0283 28.9702Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M182.014 23.4642H171.209V6.54438H176.862V1.02734H153.52V6.54438H158.989V23.4642H153.52V28.9705H187.645V18.1602H182.014V23.4642Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M102.457 12.6594H102.183C103.755 11.4672 104.689 9.56258 104.689 7.61139C104.689 4.05629 101.749 1.02747 98.1468 1.02747H66.5273V6.5445H72.1358V23.4536H66.5273V28.9707H102.453C107.035 28.9707 110.751 25.3225 110.751 20.8258C110.751 16.3291 107.037 12.6594 102.453 12.6594H102.457ZM83.2176 6.5445H92.4725C93.9311 6.5445 95.1852 7.75997 95.1852 9.25111C95.1852 10.7422 93.9311 11.913 92.4725 11.913H83.2176V6.5445ZM95.733 23.4304V23.4536H83.2176V18.0852H95.733C97.213 18.0852 98.4688 19.3006 98.4688 20.7918C98.4688 22.2829 97.2148 23.4304 95.733 23.4304Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M135.184 0H130.254C120.141 0 111.918 5.96814 111.918 13.2162V16.7838C111.918 24.0319 120.141 30 130.254 30H135.184C145.297 30 153.52 24.0337 153.52 16.7838V13.2162C153.52 5.96814 145.297 0 135.184 0ZM138.986 21.5257C138.986 22.5013 138.039 23.4537 137.002 23.4537H128.434C127.399 23.4537 126.451 22.5013 126.451 21.5257V8.42592C126.451 7.36082 127.331 6.58393 128.169 6.58393H137.266C138.103 6.58393 138.984 7.36082 138.984 8.42592V21.5257H138.986Z" fill="#FAFAFA"/>
            <path d="M209.002 23.4531H189.512V28.9702H209.002V23.4531Z" fill="#FAFAFA"/>
            <path d="M219.403 1.02734H199.867V6.54438H219.403V1.02734Z" fill="#FAFAFA"/>
            <path d="M238.001 23.4531H213.758V28.9702H238.001V23.4531Z" fill="#FAFAFA"/>
            <path d="M223.553 18.1602H203.215V20.4533H223.553V18.1602Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M216.475 1.02734H208.175L192.145 28.9705H200.443L216.475 1.02734Z" fill="#FAFAFA"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M235.54 28.9705H222.888L206.855 1.02734H219.51L235.54 28.9705Z" fill="#FAFAFA"/>
          </g>
          <defs><clipPath id="clip0_7239_3186"><rect width="238" height="30" fill="white"/></clipPath></defs>
        </svg>
  <img class="hero-logo-smg" src="ringierlogo.png" alt="Sports Media Group logo">
</div>

<h1 class="hero-title">
  <span class="main">N.Âº 1 do Desporto em Portugal</span>
  <span class="sub">hÃ¡ mais de 80 anos</span>
</h1>

        <p class="hero-sub">
          A BOLA lidera em alcance e engagement no desporto portuguÃªs â€” multiplataforma,
          credÃ­vel e com formatos premium que geram resultados.
        </p>

        <div class="hero-metrics">
          <div class="metric"><div class="num">105M</div><div class="label">Pageviews / mÃªs</div></div>
          <div class="metric"><div class="num">29M</div><div class="label">Visitas / mÃªs</div></div>
          <div class="metric"><div class="num">2M</div><div class="label">Utilizadores / mÃªs</div></div>
          <div class="metric"><div class="num">13m</div><div class="label">Tempo mÃ©dio por sessÃ£o</div></div>
        </div>

        <!-- ===========================
     START: extra hero content
     =========================== -->

<!-- ===== HERO: triplo destaque (Imprensa / Social / TV) ===== -->
<section class="hero-highlights" aria-label="Canais A BOLA">
  <article class="hcard">
    <div class="h-ico" aria-hidden="true">ðŸ“°</div>
    <h3>Imprensa</h3>
    <p class="h-sub">ExperiÃªncia / Credibilidade</p>
    <ul class="h-list">
      <li><strong>9,8%</strong> audiÃªncia</li>
      <li><strong>800K</strong> readership</li>
      <li><strong>22K</strong> circulaÃ§Ã£o do jornal</li>
    </ul>
  </article>

  <article class="hcard">
    <div class="h-ico" aria-hidden="true">ðŸ’¬</div>
    <h3>Social Media</h3>
    <p class="h-sub">Sports / Interaction Fans</p>
    <ul class="h-list">
      <li><strong>1.2M</strong> Facebook</li>
      <li><strong>213K</strong> Instagram</li>
      <li><strong>244K</strong> TikTok</li>
      <li><strong>210K</strong> X</li>
      <li><strong>123K</strong> WhatsApp</li>
      <li><strong>73K</strong> YouTube</li>
    </ul>
  </article>

  <article class="hcard">
    <div class="h-ico" aria-hidden="true">ðŸ“º</div>
    <h3>A BOLA TV</h3>
    <p class="h-sub">Authenticity / Passion</p>
    <ul class="h-list">
      <li><strong>300K</strong> audiÃªncia</li>
      <li><strong>24/7</strong> emissÃ£o</li>
    </ul>
  </article>
</section>

<!-- ===== HERO: painÃ©is de audiÃªncia (Website/App e Social) ===== -->
<section class="hero-audience-panels" aria-label="Perfil de audiÃªncia">
  <!-- Website & Mobile App -->
  <article class="apanel">
    <header>
      <h4>Website &amp; Mobile App</h4>
      <p class="atag">Classe ABCD</p>
    </header>

    <div class="abig">
      <div class="abig-num">27% <span>Mulheres</span></div>
      <div class="abig-num">73% <span>Homens</span></div>
    </div>

    <p class="a-note">
      <strong>Idades:</strong> <span class="a-emph">58%</span> 25â€“54 anos
    </p>

    <!-- Barras ilustrativas (altera --v para ajustar alturas) -->
    <div class="abars">
      <div style="--v:5"><span>18â€“24</span></div>
      <div style="--v:15"><span>25â€“34</span></div>
      <div style="--v:16"><span>35â€“44</span></div>
      <div style="--v:10"><span>45â€“54</span></div>
      <div style="--v:26"><span>55â€“64</span></div>
      <div style="--v:28"><span>65+</span></div>
    </div>
  </article>

  <!-- Social Media -->
  <article class="apanel">
    <header>
      <h4>Social Media</h4>
      <p class="atag">Classe ABCD</p>
    </header>

    <div class="abig">
      <div class="abig-num">16% <span>Mulheres</span></div>
      <div class="abig-num">84% <span>Homens</span></div>
    </div>

    <p class="a-note">
      <strong>Idades:</strong> <span class="a-emph">72%</span> 18â€“44 anos
    </p>

    <div class="abars">
      <div style="--v:4"><span>13â€“17</span></div>
      <div style="--v:20"><span>18â€“24</span></div>
      <div style="--v:31"><span>25â€“34</span></div>
      <div style="--v:22"><span>35â€“44</span></div>
      <div style="--v:12"><span>45â€“54</span></div>
      <div style="--v:6"><span>55â€“64</span></div>
      <div style="--v:6"><span>65+</span></div>
    </div>
  </article>
</section>

<!-- =========================
     END: extra hero content
     ========================= -->



        <!--
        <div class="hero-social" aria-label="AudiÃªncias sociais">
          <div class="s-item"><span class="s-name">Facebook</span><span class="s-val">1.2M</span></div>
          <div class="s-item"><span class="s-name">Instagram</span><span class="s-val">980K</span></div>
          <div class="s-item"><span class="s-name">X</span><span class="s-val">450K</span></div>
          <div class="s-item"><span class="s-name">TikTok</span><span class="s-val">620K</span></div>
          <div class="s-item"><span class="s-name">YouTube</span><span class="s-val">210K</span></div>
        </div>

        <div class="hero-audience">
          <div class="aud-row">
            <strong>Idade</strong> Â· 18â€“24 (18%) Â· 25â€“34 (27%) Â· 35â€“44 (24%) Â· 45â€“54 (17%) Â· 55+ (14%)
          </div>
          <div class="aud-row">
            <strong>Classe</strong> Â· AB (38%) Â· C1 (34%) Â· C2 (20%) Â· DE (8%)
          </div>
        </div>
-->
        <div class="hero-video-wrap" aria-label="Destaques em vÃ­deo">
          <video src="intro-highlight.mp4" autoplay muted loop playsinline></video>
        </div>

        <div class="hero-footnote">
          * Fontes indicativas â€” substituir pelos valores mais recentes (AT Internet / GA4 / redes).
        </div>
      </div>
    </header>
  </section>

  <!-- Other sections -->
  <section id="sec-digital" class="section">
    <div class="section-head" id="head-digital"><h2>Digital</h2></div>
    <main id="gridDigital" class="grid"></main>
  </section>

  <section id="sec-imprensa" class="section">
    <div class="section-head" id="head-imprensa"><h2>Imprensa</h2></div>
    <div id="imprensaNotice" class="imprensa-note"></div>
    <main id="gridImprensa" class="grid"></main>
  </section>

  <section id="sec-tv" class="section">
    <div class="section-head" id="head-tv"><h2>TV</h2></div>
    <section id="tvPanel" class="tv-panel"></section>
  </section>

  <section id="sec-branded" class="section">
    <div class="section-head" id="head-branded"><h2>Branded</h2></div>
    <main id="gridBranded" class="grid"></main>
  </section>

  <section id="sec-condicoes" class="section">
    <div class="section-head" id="head-condicoes"><h2>CondiÃ§Ãµes Gerais</h2></div>
    <div id="condicoesBody" class="doc">

<div class="terms-wrap">
  <ol class="terms">
    <li>
      <span class="n">1.</span>
      <p>A Sociedade Vicra Desportiva, S.A. rege-se pelas presentes condiÃ§Ãµes gerais contratuais, bem como pelo CÃ³digo da Publicidade e restante legislaÃ§Ã£o aplicÃ¡vel.</p>
    </li>
    <li>
      <span class="n">2.</span>
      <p>A Sociedade Vicra Desportiva, S.A. reserva o direito de nÃ£o inserir publicidade que nÃ£o esteja em harmonia com a sua orientaÃ§Ã£o Ã©tica.</p>
    </li>
    <li>
      <span class="n">3.</span>
      <p>A Sociedade Vicra Desportiva, S.A. reserva o direito de adiar inserÃ§Ãµes de publicidade sempre que as circunstÃ¢ncias o imponham.</p>
    </li>
    <li>
      <span class="n">4.</span>
      <p>O conteÃºdo das inserÃ§Ãµes, assim como o material a ser fornecido para as mesmas, Ã© da inteira responsabilidade do cliente. A Sociedade Vicra Desportiva, S.A. nÃ£o se responsabiliza pela perda ou danos causados aos materiais fornecidos para publicaÃ§Ã£o. A entrega de materiais em suporte fÃ­sico cabe ao anunciante ou ao seu representante efetuar a recolha no prazo mÃ¡ximo de 2 meses apÃ³s a data de entrega, sob pena de serem destruÃ­dos.</p>
    </li>
    <li>
      <span class="n">5.</span>
      <p>A Sociedade Vicra Desportiva, S.A. nÃ£o se responsabiliza, para alÃ©m da repetiÃ§Ã£o correta, por inserÃ§Ãµes com erros, lapsos ou omissÃµes que lhe sejam imputÃ¡veis.</p>
    </li>
    <li>
      <span class="n">6.</span>
      <p>Toda a reclamaÃ§Ã£o deverÃ¡ ser feita, por escrito, atÃ© 5 dias Ãºteis apÃ³s a data de publicaÃ§Ã£o do anÃºncio.</p>
    </li>
    <li>
      <span class="n">7.</span>
      <p>Os Anunciantes ou os seus representantes serÃ£o exclusivamente responsÃ¡veis pelo conteÃºdo publicitÃ¡rio e pelas consequÃªncias da sua publicaÃ§Ã£o pela Sociedade Vicra Desportiva, S.A., bem como por todo e qualquer direito ou autorizaÃ§Ã£o de terceiros relativos Ã  publicidade a publicar, nomeadamente direitos de autor ou outros. A Sociedade Vicra Desportiva, S.A. terÃ¡ direito de regresso sobre os anunciantes e seus representantes por qualquer coima, multa, indemnizaÃ§Ã£o ou outros encargos decorrentes de incumprimento legal ou contratual de normas aplicÃ¡veis ao conteÃºdo da publicidade publicada.</p>
    </li>
    <li>
      <span class="n">8.</span>
      <p>Em todas as ordens de publicaÃ§Ã£o firmadas pelos anunciantes ou agÃªncias presume-se o conhecimento e aceitaÃ§Ã£o da tabela de publicidade e das presentes condiÃ§Ãµes gerais.</p>
    </li>
    <li>
      <span class="n">9.</span>
      <p>Para execuÃ§Ã£o de todas as questÃµes emergentes ou interpretaÃ§Ãµes deste contrato, as partes consideram competente o tribunal da comarca de Lisboa, com expressa recusa de qualquer outro.</p>
    </li>
  </ol>
</div>


    </div>
  </section>

  <footer class="site-footer">
    
    Â© â€” All rights reserved.
  </footer>

  <!-- Drawer -->
  <div class="scrim" id="scrim"></div>
  <aside class="drawer" id="drawer">
    <header class="drawer-head">
      <div class="title-wrap">
        <h2 id="drawerTitle" class="drawer-title">Title</h2>
        <div class="muted" id="drawerTags">â€”</div>
      </div>
      <button id="closeDrawerBtn" class="btn close-drawer">Close</button>
    </header>
    <div class="drawer-content">
      <section><div id="preview" class="preview"></div></section>
      <section id="specSection" class="specs" style="display:none"><dl id="specList"></dl></section>
    </div>
  </aside>




  <script>
// ---------------- Data ----------------
const DIGITAL = [
  { id:'interstitial', medium:'digital', subtype:'rich-media', name:'Interstitial (Intro)', summary:'Full-screen intro unit on entry.',
    peek:'800Ã—600 / 768Ã—1024 â€¢ â‰¤254KB (img) â€¢ MP4 â‰¤1MB', gradient:['#ef4444','#f59e0b'],
    specs:{ 'Dimensions':'800Ã—600 px and 768Ã—1024 px', 'File types':'JPG / PNG / GIF / MP4', 'Max weight':'254 KB (images), MP4 up to 1 MB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS/HP 240 â‚¬ Â· Canais 260 â‚¬' }
  },
  { id:'billboard-xxl', medium:'digital', subtype:'display', name:'Billboard XXL', summary:'High-impact header canvas.',
    peek:'Specs on request â€¢ â‰¤500KB', gradient:['#f59e0b','#e5e7eb'],
    specs:{ 'Dimensions':'On request', 'File types':'JPG / PNG / GIF / MP4', 'Max weight':'500 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'HP 230 â‚¬' }
  },
  { id:'cube-spin', medium:'digital', subtype:'rich-media', name:'Cube Spin', summary:'Interactive 3D cube gallery.',
    peek:'(300Ã—300)Ã—6 â€¢ â‰¤480KB â€¢ JPG/PNG', gradient:['#fb7185','#dc2626'],
    specs:{ 'Dimensions':'(300Ã—300 px) Ã— 6 tiles', 'File types':'JPG / PNG', 'Max weight':'480 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS 170 â‚¬' }
  },
  { id:'ticker', medium:'digital', subtype:'display', name:'Ticker', summary:'Persistent news ticker band.',
    peek:'728Ã—90 (D) â€¢ 320Ã—100 (M) â€¢ â‰¤120KB', gradient:['#e5e7eb','#f87171'],
    specs:{ 'Dimensions':'728Ã—90 (desktop), 320Ã—100 (smartphone)', 'File types':'JPG / PNG / GIF', 'Max weight':'120 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS 190 â‚¬' }
  },
  { id:'moldura', medium:'digital', subtype:'display', name:'Moldura', summary:'Framed page skin variant.',
    peek:'Framing unit â€¢ spec template', gradient:['#ef4444','#f3f4f6'],
    specs:{ 'Dimensions':'Framing template', 'File types':'JPG / PNG / GIF', 'Max weight':'â€”', 'Visible on':'desktop, tablet, smartphone', 'CPM':'Consult' }
  },
  { id:'takeover', medium:'digital', subtype:'rich-media', name:'Takeover', summary:'Billboard + Halfpage + MREC orchestration.',
    peek:'HTML/IMG/MP4 â€¢ 50KB img â€¢ MP4 â‰¤1MB', gradient:['#b91c1c','#e5e7eb'],
    specs:{ 'Dimensions':'Billboard + Halfpage + MREC', 'File types':'HTML / JPG / PNG / GIF / MP4', 'Max weight':'50 KB (images), MP4 up to 1 MB', 'Visible on':'desktop', 'CPM':'POA (24h takeover available)' }
  },
  { id:'mrec', medium:'digital', subtype:'display', name:'MREC', summary:'Standard 300Ã—250 placement.',
    peek:'300Ã—250 â€¢ â‰¤75KB â€¢ MP4 â‰¤500KB', gradient:['#ef4444','#fbbf24'],
    specs:{ 'Dimensions':'300Ã—250 px', 'File types':'HTML / JPG / PNG / GIF / MP4', 'Max weight':'75 KB (images), MP4 up to 500 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS/HP 90 â‚¬ Â· Canais 110 â‚¬' }
  },
  { id:'halfpage', medium:'digital', subtype:'display', name:'Halfpage', summary:'Tall 300Ã—600 canvas.',
    peek:'300Ã—600 â€¢ â‰¤120KB â€¢ MP4 â‰¤1MB', gradient:['#f97316','#fecaca'],
    specs:{ 'Dimensions':'300Ã—600 px', 'File types':'HTML / JPG / PNG / MP4', 'Max weight':'120 KB (images), MP4 mÃ¡x. 1 MB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS/HP 110 â‚¬ Â· Canais 130 â‚¬' }
  },
  { id:'leaderboard', medium:'digital', subtype:'display', name:'Leaderboard', summary:'728Ã—90 horizontal banner.',
    peek:'728Ã—90 â€¢ â‰¤80KB â€¢ MP4 â‰¤1MB', gradient:['#fde68a','#fca5a5'],
    specs:{ 'Dimensions':'728Ã—90 px', 'File types':'HTML / JPG / PNG / GIF / MP4', 'Max weight':'80 KB (images), MP4 mÃ¡x. 1 MB', 'Visible on':'desktop, tablet', 'CPM':'ROS/HP 100 â‚¬' }
  },
  { id:'billboard', medium:'digital', subtype:'display', name:'Billboard', summary:'Hero banner across devices.',
    peek:'1260Ã—220 / 970Ã—250 (D) Â· 728Ã—90 (T) Â· 310Ã—100 (M) â€¢ â‰¤200KB â€¢ MP4 â‰¤1MB', gradient:['#fca5a5','#fde68a'],
    specs:{ 'Dimensions':'1260Ã—220 px or 970Ã—250 px (desktop); 728Ã—90 px (tablet); 310Ã—100 px (smartphone) â€” or external responsive tag', 'File types':'HTML / JPG / PNG / GIF / MP4', 'Max weight':'200 KB (images), MP4 mÃ¡x. 1 MB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS/HP 200 â‚¬' }
  },
  { id:'preroll', medium:'digital', subtype:'rich-media', name:'Pre-roll', summary:'In-player video ad before content.',
    peek:'640Ã—480 â€¢ MP4 â€¢ â‰¤10MB', gradient:['#111827','#6b7280'],
    specs:{ 'Dimensions':'640Ã—480 px', 'File types':'MP4', 'Max weight':'10 MB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS/HP 240 â‚¬ Â· Canais 260 â‚¬' }
  },
  { id:'skyscraper', medium:'digital', subtype:'display', name:'Sky-scrapper', summary:'Vertical 120Ã—600 banner (desktop/tablet).',
    peek:'120Ã—600 â€¢ â‰¤120KB', gradient:['#e5e7eb','#9ca3af'],
    specs:{ 'Dimensions':'120Ã—600 px', 'File types':'JPG / PNG / GIF', 'Max weight':'120 KB', 'Visible on':'desktop, tablet', 'CPM':'ROS/HP â€” â‚¬ Â· Canais â€” â‚¬' }
  },
  { id:'incontent-video', medium:'digital', subtype:'rich-media', name:'In-content Video', summary:'Inline video inside article body.',
    peek:'640Ã—480 â€¢ MP4/WEBM â€¢ â‰¤950KB', gradient:['#f87171','#ef4444'],
    specs:{ 'Dimensions':'640Ã—480 px', 'File types':'MP4 / WEBM', 'Max weight':'950 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'Interior Artigos 160 â‚¬ Â· CPV sob consulta' }
  },
  { id:'open-door', medium:'digital', subtype:'rich-media', name:'Open Door', summary:'Center reveal with perspective walls.',
    peek:'768Ã—1024 & 800Ã—600 â€¢ â‰¤950KB', gradient:['#f43f5e','#fb7185'],
    specs:{ 'Dimensions':'768Ã—1024 px and 800Ã—600 px', 'File types':'JPG / PNG / MP4', 'Max weight':'950 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'ROS/HP 320 â‚¬' }
  },
  { id:'top-scroll', medium:'digital', subtype:'rich-media', name:'Top Scroll', summary:'Scroll-reactive top unit.',
    peek:'Dims: variable (XÃ—X) â€¢ â‰¤950KB', gradient:['#fecaca','#fef3c7'],
    specs:{ 'Dimensions':'Variable (X Ã— X)', 'File types':'JPG / PNG', 'Max weight':'950 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'Interior Artigos â€” â‚¬' }
  },
  { id:'galeria', medium:'digital', subtype:'rich-media', name:'Galeria', summary:'Carousel gallery inside articles.',
    peek:'300Ã—300 â€¢ 6â€“12 slides â€¢ â‰¤250KB', gradient:['#fda4af','#fef08a'],
    specs:{ 'Dimensions':'300Ã—300 px', 'Slides':'Recommended 6 to 12', 'File types':'JPG / PNG', 'Max weight':'250 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'Interior Artigos 240 â‚¬' }
  },
  { id:'parallax', medium:'digital', subtype:'rich-media', name:'Parallax', summary:'Scroll-tied background motion.',
    peek:'720Ã—1280 â€¢ JPG/PNG/MP4 â€¢ â‰¤950KB', gradient:['#fecaca','#f87171'],
    specs:{ 'Dimensions':'720Ã—1280 px', 'File types':'JPG / PNG / MP4', 'Max weight':'950 KB', 'Visible on':'desktop, tablet, smartphone', 'CPM':'Interior Artigos 260 â‚¬' }
  }
];

const IMPRENSA = [
  { id:'capa-modular', medium:'imprensa', imprensaType:'capa', name:'Capa â€” Modular', summary:'PreÃ§o por nÃºmero de mÃ³dulos (grelha 5Ã—20 = 100).',
    grid:{ cols:5, rows:20, hot:'all' }, peek:'Mancha 25,9Ã—30,2 cm â€¢ 5 col â€¢ 20 mÃ³dulos/col',
    specs:{ 'Mancha de impressÃ£o':'25,9 Ã— 30,2 cm', 'Colunas':5, 'MÃ³dulos por coluna':20, 'MÃ³dulos por pÃ¡gina':100, 'Medida do mÃ³dulo':'4,78 Ã— 1,20 cm' },
    pricing:{ type:'per_module', base:null }
  },
  { id:'capa-rodape', medium:'imprensa', imprensaType:'capa', name:'Capa â€” RodapÃ©', summary:'Faixa inferior em toda a largura.',
    grid:{ cols:5, rows:2, hot:'bottom' }, peek:'Faixa â€¢ 5 col Ã— 2 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 30,2 cm (faixa)', 'Colunas':5, 'MÃ³dulos por coluna':2, 'PreÃ§o':'â‚¬ 2 230,00' }, pricing:{ type:'fixed', amount:2230.00 } },
  { id:'capa-rodatopo', medium:'imprensa', imprensaType:'capa', name:'Capa â€” Roda-topo', summary:'Faixa superior em toda a largura.',
    grid:{ cols:5, rows:2, hot:'all' }, peek:'Topo â€¢ 5 col Ã— 2 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 2,7 cm', 'Colunas':5, 'MÃ³dulos por coluna':2, 'PreÃ§o':'â‚¬ 3 450,00' }, pricing:{ type:'fixed', amount:3450.00 } },
  { id:'capa-orelha', medium:'imprensa', imprensaType:'capa', name:'Capa â€” Orelha', summary:'Bloco lateral superior.',
    grid:{ cols:1, rows:3, hot:'right' }, peek:'4,78 Ã— 4,2 cm â€¢ 1 col',
    specs:{ 'Mancha Ãºtil':'4,78 Ã— 4,2 cm', 'Colunas':1, 'MÃ³dulos por coluna':3, 'PreÃ§o':'â‚¬ 1 990,00' }, pricing:{ type:'fixed', amount:1990.00 } },
  { id:'capa-coluna', medium:'imprensa', imprensaType:'capa', name:'Capa â€” Coluna', summary:'Coluna vertical lateral.',
    grid:{ cols:1, rows:20, hot:'right' }, peek:'30,2 Ã— 4,78 cm â€¢ 1 col',
    specs:{ 'Mancha Ãºtil':'30,2 Ã— 4,78 cm', 'Colunas':1, 'MÃ³dulos por coluna':20, 'PreÃ§o':'â‚¬ 25 000,00' }, pricing:{ type:'fixed', amount:25000.00 } },
  { id:'capa-takeover', medium:'imprensa', imprensaType:'capa', name:'Capa â€” Takeover', summary:'Faixa topo + coluna lateral.',
    grid:{ cols:1, rows:20, hot:'all' }, peek:'2,7Ã—25,9 + 30,2Ã—4,78 (zona lateral)',
    specs:{ 'Mancha Ãºtil':'2,7 Ã— 25,9 + 30,2 Ã— 4,78 cm (zona lateral)', 'Colunas':1, 'MÃ³dulos por coluna':20, 'PreÃ§o':'â‚¬ 37 500,00' }, pricing:{ type:'fixed', amount:37500.00 } },

  { id:'interior-pagina', medium:'imprensa', imprensaType:'interior', name:'PÃ¡gina', summary:'5 colunas Ã— 20 mÃ³dulos â€” pÃ¡gina inteira.',
    grid:{ cols:5, rows:20, hot:'all' }, peek:'Mancha 25,9Ã—30,2 â€¢ 100 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 30,2 cm', 'Colunas':5, 'MÃ³dulos por coluna':20, 'Total de mÃ³dulos':100,
      'Base DC Par':'â‚¬ 8 940,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 10 281,00', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 11 622,00', 'Sobretaxa AC Par 10%':'â‚¬ 9 834,00',
      'ObservaÃ§Ãµes':'LocalizaÃ§Ã£o obrigatÃ³ria +50% Â· Idioma estrangeiro +50% Â· Produzida pelo jornal +50%'} },
  { id:'interior-junior', medium:'imprensa', imprensaType:'interior', name:'Junior Page', summary:'4 colunas Ã— 12 mÃ³dulos.',
    grid:{ cols:4, rows:12, hot:'bottom' }, peek:'Mancha 20,62Ã—18 â€¢ 48 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'20,62 Ã— 18 cm', 'Colunas':4, 'MÃ³dulos por coluna':12, 'Total de mÃ³dulos':48,
      'Base DC Par':'â‚¬ 4 967,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 5 712,05', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 6 457,60', 'Sobretaxa AC Par 10%':'â‚¬ 5 463,70' } },
  { id:'interior-meia-h', medium:'imprensa', imprensaType:'interior', name:'1/2 PÃ¡gina (Horizontal)', summary:'5 colunas Ã— 10 mÃ³dulos.',
    grid:{ cols:5, rows:10, hot:'bottom' }, peek:'Mancha 25,9Ã—14,9 â€¢ 50 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 14,9 cm', 'Colunas':5, 'MÃ³dulos por coluna':10, 'Total de mÃ³dulos':50,
      'Base DC Par':'â‚¬ 4 386,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 5 043,90', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 5 701,80', 'Sobretaxa AC Par 10%':'â‚¬ 4 824,60' } },
  { id:'interior-meia-v-2c', medium:'imprensa', imprensaType:'interior', name:'1/2 PÃ¡gina (Vertical â€” 2 col.)', summary:'2 colunas Ã— 20 mÃ³dulos.',
    grid:{ cols:2, rows:20, hot:'right' }, peek:'Mancha 10,06Ã—30,2 â€¢ 40 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'10,06 Ã— 30,2 cm', 'Colunas':2, 'MÃ³dulos por coluna':20, 'Total de mÃ³dulos':40,
      'Base DC Par':'â‚¬ 3 612,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 4 153,80', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 4 695,60', 'Sobretaxa AC Par 10%':'â‚¬ 3 973,20' } },
  { id:'interior-meia-v-3c', medium:'imprensa', imprensaType:'interior', name:'1/2 PÃ¡gina (Vertical â€” 3 col.)', summary:'3 colunas Ã— 20 mÃ³dulos.',
    grid:{ cols:3, rows:20, hot:'right' }, peek:'Mancha 15,34Ã—30,2 â€¢ 60 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'15,34 Ã— 30,2 cm', 'Colunas':3, 'MÃ³dulos por coluna':20, 'Total de mÃ³dulos':60,
      'Base DC Par':'â‚¬ 5 160,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 5 934,00', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 6 708,00', 'Sobretaxa AC Par 10%':'â‚¬ 5 676,00' } },
  { id:'interior-um-quarto-h', medium:'imprensa', imprensaType:'interior', name:'1/4 PÃ¡gina (Horizontal)', summary:'5 colunas Ã— 5 mÃ³dulos.',
    grid:{ cols:5, rows:5, hot:'bottom' }, peek:'Mancha 25,9Ã—7,2 â€¢ 25 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 7,2 cm', 'Colunas':5, 'MÃ³dulos por coluna':5, 'Total de mÃ³dulos':25,
      'Base DC Par':'â‚¬ 3 000,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 3 450,00', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 3 900,00', 'Sobretaxa AC Par 10%':'â‚¬ 3 300,00' } },
  { id:'interior-um-quarto-3c', medium:'imprensa', imprensaType:'interior', name:'1/4 PÃ¡gina (3 colunas)', summary:'3 colunas Ã— 10 mÃ³dulos.',
    grid:{ cols:3, rows:10, hot:'all' }, peek:'Mancha 15,34Ã—14,9 â€¢ 30 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'15,34 Ã— 14,9 cm', 'Colunas':3, 'MÃ³dulos por coluna':10, 'Total de mÃ³dulos':30,
      'Base DC Par':'â‚¬ 2 773,50', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 3 189,53', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 3 605,55', 'Sobretaxa AC Par 10%':'â‚¬ 3 050,85' } },
  { id:'interior-um-quarto-2c', medium:'imprensa', imprensaType:'interior', name:'1/4 PÃ¡gina (2 colunas)', summary:'2 colunas Ã— 10 mÃ³dulos.',
    grid:{ cols:2, rows:10, hot:'right' }, peek:'Mancha 10,06Ã—30,2 â€¢ 40 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'10,06 Ã— 30,2 cm', 'Colunas':2, 'MÃ³dulos por coluna':10, 'Total de mÃ³dulos':40,
      'Base DC Par':'â‚¬ 1 935,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 2 225,25', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 2 515,50', 'Sobretaxa AC Par 10%':'â‚¬ 2 128,50' } },
  { id:'interior-um-oitavo', medium:'imprensa', imprensaType:'interior', name:'1/8 PÃ¡gina', summary:'2 colunas Ã— 5 mÃ³dulos.',
    grid:{ cols:2, rows:5, hot:'bottom' }, peek:'Mancha 30,2Ã—4,78 â€¢ 10 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'30,2 Ã— 4,78 cm', 'Colunas':2, 'MÃ³dulos por coluna':5, 'Total de mÃ³dulos':10,
      'Base DC Par':'â‚¬ 1 354,50', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 1 557,68', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 1 760,85', 'Sobretaxa AC Par 10%':'â‚¬ 1 489,95' } },
  { id:'interior-rodape-3mod', medium:'imprensa', imprensaType:'interior', name:'RodapÃ© â€” 3 mÃ³dulos', summary:'Faixa com 3 mÃ³dulos de altura.',
    grid:{ cols:5, rows:3, hot:'bottom' }, peek:'Mancha 25,9Ã—4,20 â€¢ 15 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 4,20 cm', 'Colunas':5, 'MÃ³dulos por coluna':3, 'Total de mÃ³dulos':15,
      'Base DC Par':'â‚¬ 2 325,40', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 2 674,21', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 3 023,02', 'Sobretaxa AC Par 10%':'â‚¬ 2 557,94' } },
  { id:'interior-dupla-abertura', medium:'imprensa', imprensaType:'interior', name:'PÃ¡gina Dupla (Abertura)', summary:'Dupla pÃ¡gina â€” abertura de caderno.',
    grid:{ cols:10, rows:20, hot:'all' }, peek:'Mancha 53,5Ã—30,2 â€¢ 200 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'53,5 Ã— 30,2 cm', 'Colunas':10, 'MÃ³dulos por coluna':20, 'Total de mÃ³dulos':200,
      'AC':'â‚¬ 20 838,00', 'DC':'â‚¬ 19 025,00', 'Dupla abertura':'â‚¬ 30 000,00' } },
  { id:'interior-dupla-horizontal-baixo', medium:'imprensa', imprensaType:'interior', name:'PÃ¡gina Dupla (Horizontal baixo)', summary:'Dupla â€” metade inferior.',
    grid:{ cols:10, rows:10, hot:'bottom' }, peek:'Mancha 53,5Ã—14,9 â€¢ 100 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'53,5 Ã— 14,9 cm', 'Colunas':10, 'MÃ³dulos por coluna':10, 'Total de mÃ³dulos':100,
      'Base DC Par':'â‚¬ 9 515,00', 'Sobretaxa DC Ãmpar 15%':'â‚¬ 10 942,25', 'Sobretaxa AC Ãmpar 30%':'â‚¬ 12 369,50', 'Sobretaxa AC Par 10%':'â‚¬ 10 466,50' } },

  { id:'contracapa-rodape', medium:'imprensa', imprensaType:'contracapa', name:'Contracapa â€” RodapÃ©', summary:'Faixa inferior (5Ã—2 mÃ³dulos).',
    grid:{ cols:5, rows:2, hot:'bottom' }, peek:'25,9Ã—2,7 cm â€¢ 10 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 2,7 cm', 'Colunas':5, 'MÃ³dulos por coluna':2, 'Total de mÃ³dulos':10, 'PreÃ§o':'â‚¬ 2 000,00' }, pricing:{ type:'fixed', amount:2000.00 } },
  { id:'contracapa-rodatopo', medium:'imprensa', imprensaType:'contracapa', name:'Contracapa â€” Roda-topo', summary:'Faixa superior (5Ã—2 mÃ³dulos).',
    grid:{ cols:5, rows:2, hot:'all' }, peek:'25,9Ã—2,7 cm â€¢ 10 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 2,7 cm', 'Colunas':5, 'MÃ³dulos por coluna':2, 'Total de mÃ³dulos':10, 'PreÃ§o':'â‚¬ 3 000,00' }, pricing:{ type:'fixed', amount:3000.00 } },
  { id:'contracapa-orelha', medium:'imprensa', imprensaType:'contracapa', name:'Contracapa â€” Orelha', summary:'Bloco lateral superior (1Ã—3 mÃ³dulos).',
    grid:{ cols:1, rows:3, hot:'right' }, peek:'4,78Ã—4,2 cm â€¢ 3 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'4,78 Ã— 4,2 cm', 'Colunas':1, 'MÃ³dulos por coluna':3, 'Total de mÃ³dulos':3, 'PreÃ§o':'â‚¬ 1 500,00' }, pricing:{ type:'fixed', amount:1500.00 } },
  { id:'contracapa-pagina-inteira', medium:'imprensa', imprensaType:'contracapa', name:'Contracapa â€” PÃ¡gina Inteira', summary:'5 colunas Ã— 20 mÃ³dulos â€” pÃ¡gina completa.',
    grid:{ cols:5, rows:20, hot:'all' }, peek:'25,9Ã—30,2 cm â€¢ 100 mÃ³dulos',
    specs:{ 'Mancha Ãºtil':'25,9 Ã— 30,2 cm', 'Colunas':5, 'MÃ³dulos por coluna':20, 'Total de mÃ³dulos':100, 'PreÃ§o':'â‚¬ 15 000,00' }, pricing:{ type:'fixed', amount:15000.00 } }
];

const TV = [
  {
    id: 'tv-ratecard',
    medium: 'tv',
    name: 'TV Ratecard',
    summary: 'PreÃ§os por faixa horÃ¡ria e duraÃ§Ã£o.',
    durations: [5,10,15,20,25,30,35,40,45,50,55,60,90,120,180],
    index: {5:0.4375,10:0.75,15:0.9375,20:1,25:1.325,30:1.59,35:2.0475,40:2.5,45:3,50:3.4,55:3.9,60:4.3,90:6.6,120:8.85,180:13.5},
    dayparts: [
      { name: 'Daytime',
        slots: [
          { time: '01:00â€“12:30', prices: {5:67.77,10:116.18,15:145.22,20:154.90,25:205.24,30:246.29,35:317.16,40:387.25,45:464.70,50:531.31,55:604.11,60:666.07,90:1022.34,120:1370.87,180:2091.15} },
          { time: '12:30â€“15:30', prices: {5:98.93,10:169.59,15:211.99,20:226.12,25:299.61,30:359.53,35:462.98,40:565.30,45:678.36,50:775.59,55:881.87,60:972.32,90:1492.39,120:2001.16,180:3052.62} },
          { time: '15:30â€“17:00', prices: {5:156.18,10:267.74,15:334.67,20:356.98,25:473.00,30:567.60,35:730.92,40:892.45,45:1070.94,50:1224.44,55:1392.22,60:1535.01,90:2356.07,120:3159.27,180:4819.23} },
          { time: '17:00â€“18:00', prices: {5:173.71,10:297.79,15:372.23,20:397.05,25:526.09,30:631.31,35:812.96,40:992.63,45:1191.15,50:1361.88,55:1548.50,60:1707.32,90:2620.53,120:3513.89,180:5360.18} },
          { time: '18:00â€“19:00', prices: {5:211.49,10:362.55,15:453.19,20:483.40,25:640.51,30:768.61,35:989.76,40:1208.50,45:1450.20,50:1658.06,55:1885.26,60:2078.62,90:3190.44,120:4278.09,180:6525.90} },
          { time: '19:00â€“20:00', prices: {5:406.23,10:696.40,15:870.50,20:928.53,25:1230.30,30:1476.36,35:1901.17,40:2321.33,45:2785.59,50:3184.86,55:3621.27,60:3992.68,90:6128.30,120:8217.49,180:12535.16} }
        ]},
      { name: 'Prime Time',
        slots: [
          { time: '20:00â€“21:30', prices: {5:461.15,10:790.54,15:988.17,20:1054.05,25:1396.62,30:1675.94,35:2158.17,40:2635.13,45:3162.15,50:3615.39,55:4110.80,60:4532.42,90:6956.73,120:9328.34,180:14229.68} },
          { time: '21:30â€“01:00', prices: {5:608.76,10:1043.59,15:1304.48,20:1391.45,25:1843.67,30:2212.41,35:2848.99,40:3478.63,45:4174.35,50:4772.67,55:5426.66,60:5983.24,90:9183.57,120:12314.33,180:18784.58} }
        ]}
    ]
  }
];

/* ============================================================
   APP SCRIPT (NO DATA ARRAYS)
   - Single sticky masthead (no mastTitle element)
   - Main tabs update only when .section-head is near top
   - Clicks scroll to .section-head with header offset
   - Spy lock prevents premature â€œyou already arrivedâ€ stops
   ============================================================ */

// ---- Safe dataset fallbacks (empty if not defined) ----
const DATA = {
  DIGITAL : (typeof DIGITAL  !== 'undefined' && Array.isArray(DIGITAL))  ? DIGITAL  : [],
  IMPRENSA: (typeof IMPRENSA !== 'undefined' && Array.isArray(IMPRENSA)) ? IMPRENSA : [],
  TV      : (typeof TV       !== 'undefined' && Array.isArray(TV))       ? TV       : [],
  ABOLA   : (typeof ABOLA    !== 'undefined' && Array.isArray(ABOLA))    ? ABOLA    : [],
  BRANDED : (typeof BRANDED  !== 'undefined' && Array.isArray(BRANDED))  ? BRANDED  : []
};

// ---------------- State ----------------
let state = {
  medium: 'abola',
  digitalType: 'all',
  imprensaType: 'all',
  tvDuration: 30,
  tvShowAll: false
};

// ---------------- DOM ----------------
const $masthead     = document.getElementById('masthead');
const $headerSpacer = document.getElementById('headerSpacer');
const $mainTabs     = document.getElementById('mainTabs');
const $contextTabs  = document.getElementById('contextTabs');
const $brandBtn = document.getElementById('brandBtn');

// Sections
const $secAbola    = document.getElementById('sec-abola');
const $secDigital  = document.getElementById('sec-digital');
const $secImprensa = document.getElementById('sec-imprensa');
const $secTV       = document.getElementById('sec-tv');
const $secBranded  = document.getElementById('sec-branded');
const $secTerms    = document.getElementById('sec-condicoes');

// Grids / panels
const $gridAbola    = document.getElementById('gridAbola');
const $gridDigital  = document.getElementById('gridDigital');
const $gridImprensa = document.getElementById('gridImprensa');
const $gridBranded  = document.getElementById('gridBranded');
const $tvPanel      = document.getElementById('tvPanel');
const $imprensaNote = document.getElementById('imprensaNotice');

// Drawer (optional if present)
const $scrim          = document.getElementById('scrim');
const $drawer         = document.getElementById('drawer');
const $drawerTitle    = document.getElementById('drawerTitle');
const $drawerTags     = document.getElementById('drawerTags');
const $preview        = document.getElementById('preview');
const $specList       = document.getElementById('specList');
const $specSection    = document.getElementById('specSection');
const $closeDrawerBtn = document.getElementById('closeDrawerBtn');

const $brandBar = document.querySelector('.masthead > .brand');


// ---------------- Layout helpers ----------------
function mastHeight(){ return $masthead?.getBoundingClientRect().height || 0; }


function syncHeaderSpacer(){
  const h = $masthead?.getBoundingClientRect().height || 0;
  if ($headerSpacer) $headerSpacer.style.height = h + 'px';
  document.documentElement.style.setProperty('--mastpad', (h + 8) + 'px'); 
}



/* Measure the natural height of the brand bar and store in a CSS var */
function measureBrand(){
  if(!$brandBar || !$masthead) return;
  const wasOpen = $masthead.classList.contains('show-brand');
  // open temporarily to measure true height
  $masthead.classList.add('show-brand');
  requestAnimationFrame(()=>{
    const h = $brandBar.scrollHeight || 0;
    $masthead.style.setProperty('--brandH', h + 'px');
    if(!wasOpen) $masthead.classList.remove('show-brand');
    syncHeaderSpacer();
  });
}

/* Toggle visibility: hidden on hero (abola), visible on other sections */
function updateBrandVisibility(){
  const sec = pickSectionByRefLine();
  const medium = sec ? SECTION_TO_MEDIUM[sec.id] : null;
  const show = !!(medium && medium !== 'abola');
  $masthead.classList.toggle('show-brand', show);
  syncHeaderSpacer();
}

window.addEventListener('load', measureBrand);
window.addEventListener('resize', measureBrand);


function getContextNav(){
  return document.querySelector('.context-pane.is-live .context-tabs');
}

function scrollToHeadById(headId){
  const head = document.getElementById(headId);
  if(!head) return;

  // Recalc mast sizes first (context tabs can change masthead height)
  syncHeaderSpacer();

  // Use the SECTION top (not the sticky head's rect) to avoid "early stop" going upwards
  const section = head.closest('.section') || head;

  // Prefer offsetTop (fast) and fall back to getBoundingClientRect if needed
  let sectionTop = 0;
  if (typeof section.offsetTop === 'number') {
    sectionTop = section.offsetTop;
  } else {
    sectionTop = window.scrollY + section.getBoundingClientRect().top;
  }

  const pad = 8;
  const y = Math.max(0, sectionTop - mastHeight() - pad);

  // Lock the spy long enough for a smooth scroll regardless of distance
  const dist = Math.abs(window.scrollY - y);
  lockSpy(Math.min(2000, Math.max(900, dist * 0.9)));

  window.scrollTo({ top: y, behavior: 'smooth' });
}


window.addEventListener('resize', syncHeaderSpacer);
if (window.ResizeObserver) new ResizeObserver(syncHeaderSpacer).observe($masthead || document.body);
syncHeaderSpacer();

function setActiveTab($tabs, value, attr='data-medium'){
  if(!$tabs) return;
  [...$tabs.querySelectorAll('button')].forEach(b=>{
    b.classList.toggle('active', b.getAttribute(attr)===value);
  });
}
function gradStyle([a,b]){ return `background:linear-gradient(135deg,${a},${b});`; }

// --- Spy lock to prevent mid-scroll interruptions ---
let spyLocked = false;
let spyUnlockTimer = null;

function lockSpy(ms = 900){
  spyLocked = true;
  clearTimeout(spyUnlockTimer);
  spyUnlockTimer = setTimeout(()=>{ spyLocked = false; }, ms);
}

function unlockSpy(){
  if (!spyLocked) return;
  spyLocked = false;
  clearTimeout(spyUnlockTimer);
  onScrollSpy(); // re-evaluate active section immediately
}

// Cancel lock on any â€œIâ€™m scrolling nowâ€ signals
window.addEventListener('wheel', unlockSpy, { passive: true });
window.addEventListener('touchstart', unlockSpy, { passive: true });
window.addEventListener('touchmove', unlockSpy, { passive: true });
window.addEventListener('keydown', (e) => {
  // keys that typically scroll
  const keys = ['ArrowUp','ArrowDown','PageUp','PageDown','Home','End',' '];
  if (keys.includes(e.key)) unlockSpy();
}, { passive: true });

// ---------------- Submenu (context tabs) ----------------

function buildSubmenu(medium){
  // The slot that holds the context tabs
  const slot = document.querySelector('.context-slot');
  if (!slot) return;

  // --- Ensure structure: .context-slot > .context-wrap > (.context-pane is-live) ---
  let wrap = slot.querySelector('.context-wrap');
  if (!wrap) {
    wrap = document.createElement('div');
    wrap.className = 'context-wrap';

    const livePane = document.createElement('div');
    livePane.className = 'context-pane is-live';

    // Move any existing #contextTabs into the initial live pane
    const existingNav = document.getElementById('contextTabs');
    if (existingNav) {
      livePane.appendChild(existingNav);
    } else {
      const nav = document.createElement('nav');
      nav.className = 'tabs context-tabs';
      nav.id = 'contextTabs';
      livePane.appendChild(nav);
    }

    wrap.appendChild(livePane);
    slot.appendChild(wrap);
  }

  const currentLive = wrap.querySelector('.context-pane.is-live');

  // --- Build the options for the requested medium ---
  let options = [];
  if (medium === 'digital') {
    options = [
      { val: 'all',       label: 'All' },
      { val: 'display',   label: 'Display' },
      { val: 'rich-media',label: 'Rich Media' }
    ];
  } else if (medium === 'imprensa') {
    options = [
      { val: 'all',       label: 'All' },
      { val: 'capa',      label: 'Capa' },
      { val: 'interior',  label: 'Interior' },
      { val: 'contracapa',label: 'Contracapa' }
    ];
  }

  // --- If no submenu for this medium, close (fade out) the slot and stop ---
  if (options.length === 0) {
    slot.classList.remove('is-open'); // CSS handles fade-out
    return;
  }

  // --- Build next pane off-DOM (starts hidden) ---
  const nextPane = document.createElement('div');
  nextPane.className = 'context-pane';

  const nextNav = document.createElement('nav');
  nextNav.className = 'tabs context-tabs';
  nextNav.id = 'contextTabs'; // keep same id so other code keeps working

  // Build buttons
  for (const opt of options) {
    const btn = document.createElement('button');
    btn.textContent = opt.label;
    btn.setAttribute('data-sub', opt.val);

    const isActive =
      (medium === 'digital'  && state.digitalType   === opt.val) ||
      (medium === 'imprensa' && state.imprensaType === opt.val);
    if (isActive) btn.classList.add('active');

    btn.onclick = () => {
      if (medium === 'digital') {
        state.digitalType = opt.val;
        renderDigitalSection();
        history.replaceState(null, '', `#digital/${opt.val}`);
        scrollToHeadById('head-digital');
      } else {
        state.imprensaType = opt.val;
        renderImprensaSection();
        history.replaceState(null, '', `#imprensa/${opt.val}`);
        scrollToHeadById('head-imprensa');
      }
      setActiveTab(nextNav, opt.val, 'data-sub');
    };

    nextNav.appendChild(btn);
  }

  nextPane.appendChild(nextNav);
  wrap.appendChild(nextPane); // add (still hidden) so we can measure

  // --- Animate: height tween on wrapper + opacity cross-fade on panes ---

  // Ensure slot is visible so fade is seen
  slot.classList.add('is-open');

  // Lock current height (FROM)
  const fromH = wrap.scrollHeight;
  wrap.style.height = fromH + 'px';

  // Measure target height (TO) with the new pane present (absolute)
  const toH = nextPane.scrollHeight;

  // Next frame: start animation
  requestAnimationFrame(() => {
    // Height tween
    wrap.style.height = toH + 'px';

    // Cross-fade panes (opacity only â†’ no vertical jitter)
    nextPane.classList.add('is-live');
    if (currentLive) currentLive.classList.remove('is-live');

    // Cleanup after transition
    const cleanup = () => {
      // remove any non-live panes (the old one)
      [...wrap.querySelectorAll('.context-pane')].forEach(p => {
        if (!p.classList.contains('is-live')) p.remove();
      });
      // release explicit height
      wrap.style.height = 'auto';
      wrap.removeEventListener('transitionend', onEnd);
    };

    const onEnd = (e) => {
      if (e.target === wrap && e.propertyName === 'height') cleanup();
    };

    wrap.addEventListener('transitionend', onEnd);
    setTimeout(cleanup, 450); // safety in case transitionend is missed
  });
}


// ---------------- Drawer ----------------
function closeDrawer(){
  $scrim?.classList.remove('show');
  $drawer?.classList.remove('show');
}
$scrim?.addEventListener('click', closeDrawer);
$closeDrawerBtn?.addEventListener('click', closeDrawer);
window.addEventListener('keydown', e=>{ if(e.key==='Escape') closeDrawer(); });

function openDrawer(item){
  if(!item || item.medium==='tv' || !$drawer) return;
  if($drawerTitle) $drawerTitle.textContent = item.name || 'Details';
  if($drawerTags)  $drawerTags.textContent  = [item.subtype,item.medium].filter(Boolean).join(' Â· ');
  if($preview){
    $preview.innerHTML = '';
    const wrap = document.createElement('div');
    wrap.style.cssText = `height:200px;border-radius:12px;border:1px solid var(--ring);${gradStyle(item.gradient||['#eee','#fff'])}`;
    $preview.appendChild(wrap);
  }
  if($specList){
    $specList.innerHTML='';
    const specs = item.specs || { Note:'Specs coming soon' };
    Object.entries(specs).forEach(([k,v])=>{
      const dt=document.createElement('dt'); dt.textContent=k;
      const dd=document.createElement('dd'); dd.textContent=String(v);
      $specList.append(dt,dd);
    });
  }
  if($specSection) $specSection.style.display='block';
  $scrim?.classList.add('show');
  $drawer?.classList.add('show');
}

// ---------------- Builders ----------------
function buildPoster(item){
  const card   = document.createElement('article'); card.className='card';
  const poster = document.createElement('div'); poster.className='poster';
  const grad   = document.createElement('div'); grad.className='grad';
  grad.style = gradStyle(item.gradient || ['#e5e7eb','#ffffff']);
  poster.appendChild(grad);

  const lbl = document.createElement('div'); lbl.className='label';
  lbl.textContent = item.medium || '';
  poster.appendChild(lbl);

  const meta   = document.createElement('div'); meta.className='meta';
  const title  = document.createElement('div'); title.className='title';
  title.innerHTML = `<span>${item.name||''}</span>`;

  const summary = document.createElement('div'); summary.className='muted'; summary.style.fontSize='13px';
  summary.textContent = item.summary || '';

  meta.append(title, summary);
  card.append(poster, meta);

  card.addEventListener('click', ()=> openDrawer(item));
  return card;
}

// ---------------- Datasets ----------------
function datasetAbola(){   return DATA.ABOLA; }
function datasetDigital(){ return state.digitalType==='all' ? DATA.DIGITAL : DATA.DIGITAL.filter(i=>i.subtype===state.digitalType); }
function datasetImprensa(){return state.imprensaType==='all'? DATA.IMPRENSA: DATA.IMPRENSA.filter(i=>i.imprensaType===state.imprensaType); }
function datasetBranded(){ return DATA.BRANDED; }

// ---------------- Renderers ----------------
function renderAbolaSection(){
  if(!$gridAbola) return;
  $gridAbola.innerHTML='';
  datasetAbola().forEach(item=> $gridAbola.appendChild(buildPoster(item)));
}
function renderDigitalSection(){
  if(!$gridDigital) return;
  $gridDigital.innerHTML='';
  datasetDigital().forEach(item=> $gridDigital.appendChild(buildPoster(item)));
}
function renderImprensaSection(){
  if(!$gridImprensa) return;
  $gridImprensa.innerHTML='';
  datasetImprensa().forEach(item=> $gridImprensa.appendChild(buildPoster(item)));
  if($imprensaNote){
    $imprensaNote.style.display='block';
    $imprensaNote.textContent='SOBRETAXA â€” LocalizaÃ§Ã£o obrigatÃ³ria +50% Â· Publicidade em idioma estrangeiro +50% Â· Produzida pelo jornal +50%';
  }
}
function renderBrandedSection(){
  if(!$gridBranded) return;
  $gridBranded.innerHTML='';
  datasetBranded().forEach(item=> $gridBranded.appendChild(buildPoster(item)));
}

// ---- TV Ratecard ----
function updateHashTV(){
  let hash = 'tv/tv-ratecard';
  if(state.tvDuration) hash += '/' + state.tvDuration;
  if(state.tvShowAll) hash += '/all';
  return hash;
}
function renderTVMatrix(item, targetEl){
  const isCompact = window.matchMedia('(max-width: 640px)').matches && !state.tvShowAll;
  const activeDur = state.tvDuration || item.durations[0];
  const durationsToRender = isCompact ? [activeDur] : item.durations;

  const chipsBar = document.createElement('div');
  chipsBar.style.display='flex';
  chipsBar.style.flexWrap='wrap';
  chipsBar.style.gap='6px';
  chipsBar.style.margin='10px 0';

  item.durations.forEach(d=>{
    const b=document.createElement('button');
    b.className='btn';
    b.textContent=`${d}â€`;
    if(state.tvDuration===d) b.classList.add('primary');
    b.onclick = ()=>{
      state.tvDuration = d;
      renderTVOutside(item);
      history.replaceState(null,'','#'+updateHashTV());
     scrollToHeadById('head-tv');
    };
    chipsBar.appendChild(b);
  });

  if (window.matchMedia('(max-width: 640px)').matches){
    const toggle=document.createElement('button');
    toggle.className='btn ghost';
    toggle.style.marginLeft='6px';
    toggle.textContent = state.tvShowAll ? 'Show less' : 'Show all durations';
    toggle.onclick = ()=>{
      state.tvShowAll = !state.tvShowAll;
      renderTVOutside(item);
      history.replaceState(null,'','#'+updateHashTV());
      scrollToHeadById('head-tv');
    };
    chipsBar.appendChild(toggle);
  }

  const scroller = document.createElement('div'); scroller.className='hscroll';
  const table = document.createElement('table'); table.className='rate-table';

  const thead=document.createElement('thead');
  const htr=document.createElement('tr');
  const thTime=document.createElement('th'); thTime.textContent='Time'; thTime.className='sticky-col'; htr.appendChild(thTime);
  durationsToRender.forEach(d=>{
    const th=document.createElement('th'); th.textContent=`${d}â€`;
    if(state.tvDuration===d) th.style.background='#fff7ed';
    htr.appendChild(th);
  });
  thead.appendChild(htr);
  table.appendChild(thead);

  const tbody=document.createElement('tbody');
  (item.dayparts||[]).forEach(dp=>{
    const sec=document.createElement('tr'); sec.className='section-row';
    const s1=document.createElement('th'); s1.className='sticky-col'; s1.textContent=dp.name||''; sec.appendChild(s1);
    const s2=document.createElement('th'); s2.colSpan=durationsToRender.length; sec.appendChild(s2);
    tbody.appendChild(sec);

    (dp.slots||[]).forEach(row=>{
      const tr=document.createElement('tr');
      const tdTime=document.createElement('td'); tdTime.className='sticky-col'; tdTime.textContent=row.time||''; tr.appendChild(tdTime);
      durationsToRender.forEach(d=>{
        const td=document.createElement('td');
        const val=row.prices?.[d];
        td.textContent = (val!=null) ? ('â‚¬ '+ val.toLocaleString('pt-PT')) : 'â€”';
        if(state.tvDuration===d) td.style.background='#fff7ed';
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
  });

  const idxHead=document.createElement('tr'); idxHead.className='section-row';
  const ih1=document.createElement('th'); ih1.className='sticky-col'; ih1.textContent='INDEX'; idxHead.appendChild(ih1);
  const ih2=document.createElement('th'); ih2.colSpan=durationsToRender.length; idxHead.appendChild(ih2);
  tbody.appendChild(idxHead);

  const idxRow=document.createElement('tr');
  const il=document.createElement('td'); il.className='sticky-col'; il.textContent=''; idxRow.appendChild(il);
  durationsToRender.forEach(d=>{
    const td=document.createElement('td');
    td.textContent = (item.index?.[d] ?? 'â€”');
    if(state.tvDuration===d) td.style.background='#fff7ed';
    idxRow.appendChild(td);
  });
  tbody.appendChild(idxRow);

  table.appendChild(tbody);
  scroller.appendChild(table);
  targetEl.appendChild(chipsBar);
  targetEl.appendChild(scroller);
}
function renderTVOutside(item){
  if(!$tvPanel || !item) return;
  $tvPanel.innerHTML='';
  const header=document.createElement('div');
  header.innerHTML=`<h2>${item.name||'TV'}</h2><div class="muted">${item.summary||''}</div>`;
  $tvPanel.appendChild(header);
  renderTVMatrix(item, $tvPanel);
}

// Render all initially
function renderAll(){
  renderAbolaSection();
  renderDigitalSection();
  renderImprensaSection();
  renderBrandedSection();
  if (DATA.TV[0]) renderTVOutside(DATA.TV[0]);
}
renderAll();


$brandBtn?.addEventListener('click', () => {
  state.medium = 'top';
  setActiveTab($mainTabs, null);     // clear highlight from main tabs
  buildSubmenu('top');             // no submenu
  lockSpy(900);
  scrollToHeadById('head-abola');
  history.replaceState(null, '', '#top');
});


// ---------------- Main tabs ----------------
$mainTabs?.addEventListener('click', (e)=>{
  const btn = e.target.closest('button'); if(!btn) return;
  const medium = btn.dataset.medium; if(!medium) return;

  state.medium = medium;
  setActiveTab($mainTabs, medium);
  buildSubmenu(medium);

const headMap = {
  digital:'head-digital',
  imprensa:'head-imprensa',
  tv:'head-tv',
  branded:'head-branded',
  condicoes:'head-condicoes'
};

  scrollToHeadById(headMap[medium]);

  if(medium==='digital')        history.replaceState(null,'',`#digital/${state.digitalType}`);
  else if(medium==='imprensa')  history.replaceState(null,'',`#imprensa/${state.imprensaType}`);
  else if(medium==='tv')        history.replaceState(null,'',`#tv/tv-ratecard/${state.tvDuration}${state.tvShowAll?'/all':''}`);
  else                          history.replaceState(null,'',`#${medium}`);
});// ---------------- Scroll spy (reference-line method; no flicker) ----------------
const SECTION_TO_MEDIUM = {
  'sec-abola':'abola',
  'sec-digital':'digital',
  'sec-imprensa':'imprensa',
  'sec-tv':'tv',
  'sec-branded':'branded',
  'sec-condicoes':'condicoes'
};

const SECTIONS = Array.from(document.querySelectorAll('.section'));
const COOLDOWN_MS = 200;     // tiny cooldown after we switch, to avoid double flips
const REF_EXTRA   = 12;      // pixels below the masthead we place the reference line

let spyCooldown = false;
function cool(ms = COOLDOWN_MS){
  spyCooldown = true;
  setTimeout(()=> spyCooldown = false, ms);
}

function pickSectionByRefLine(){
  // line sits just below the sticky masthead
  const refY = (mastHeight() || 0) + REF_EXTRA;

  // find the section whose body contains that line
  let hit = null;
  for(const sec of SECTIONS){
    const r = sec.getBoundingClientRect();
    // visible band below the masthead
    if (r.top <= refY && r.bottom > refY){
      hit = sec;
      break;
    }
  }

  // fallback: closest top to the ref line (in case at extremes)
  if(!hit){
    let best = null;
    for(const sec of SECTIONS){
      const d = Math.abs(sec.getBoundingClientRect().top - refY);
      if(!best || d < best.d) best = { sec, d };
    }
    hit = best?.sec || null;
  }
  return hit;
}

let ticking = false;
function onScrollSpy(){

  if (spyLocked || spyCooldown || ticking) return;  // donâ€™t fight programmatic scrolls
  ticking = true;
  requestAnimationFrame(()=>{
    ticking = false;
    const sec = pickSectionByRefLine();
    updateBrandVisibility();
    if(!sec) return;

    const medium = SECTION_TO_MEDIUM[sec.id];

     if ((state.medium === 'top' || location.hash.startsWith('#top')) && medium === 'abola') {
      return; // keep #top intact
    }

    
    if (medium && medium !== 'condicoes' && state.medium !== medium){
      state.medium = medium;
      setActiveTab($mainTabs, medium);
      buildSubmenu(medium); // reflect current section without scrolling

      // keep URL in sync (donâ€™t change filters here)
      if (medium === 'digital')       history.replaceState(null,'',`#digital/${state.digitalType}`);
      else if (medium === 'imprensa') history.replaceState(null,'',`#imprensa/${state.imprensaType}`);
      else if (medium === 'tv')       history.replaceState(null,'',`#tv/tv-ratecard/${state.tvDuration}${state.tvShowAll?'/all':''}`);
      else                            history.replaceState(null,'',`#${medium}`);

      cool(); // small cooldown to avoid immediate re-flips
    }
  });
}

window.addEventListener('scroll', onScrollSpy, { passive:true });
window.addEventListener('resize', onScrollSpy);
onScrollSpy(); // init once





// ---------------- Deep link handling ----------------
function handleHash(){
  const raw = (location.hash||'').replace('#','').trim();
  if(!raw){ buildSubmenu('abola'); return; }

  const parts  = raw.split('/').filter(Boolean);
  const first  = parts[0];

  if(first==='tv'){
    state.medium = 'tv';
    const dur = parseInt(parts[2] || parts[1], 10);
    if(!isNaN(dur)) state.tvDuration = dur;
    state.tvShowAll = parts.includes('all');
    setActiveTab($mainTabs, 'tv');
    buildSubmenu('tv'); // empty
    if (DATA.TV[0]) renderTVOutside(DATA.TV[0]);
    lockSpy(900);
    scrollToHeadById('head-tv');
    return;
  }

  if(first==='digital'){
    state.medium = 'digital';
    const sub = parts[1];
    if(['all','display','rich-media'].includes(sub)){ state.digitalType=sub; }
    setActiveTab($mainTabs, 'digital');
    buildSubmenu('digital');
setActiveTab(getContextNav(), state.digitalType, 'data-sub');
    renderDigitalSection();
    lockSpy(900);
    scrollToHeadById('head-digital');
    return;
  }

  if(first==='imprensa'){
    state.medium = 'imprensa';
    const sub = parts[1];
    if(['all','capa','interior','contracapa'].includes(sub)){ state.imprensaType=sub; }
    setActiveTab($mainTabs, 'imprensa');
    buildSubmenu('imprensa');
 setActiveTab(getContextNav(), state.imprensaType, 'data-sub');
    renderImprensaSection();
    lockSpy(900);
    scrollToHeadById('head-imprensa');
    return;
  }

  if(first==='top'){
  state.medium = 'top';
  setActiveTab($mainTabs, null);   // no main tab
  buildSubmenu('top');
  lockSpy(900);
  scrollToHeadById('head-abola');
  return;
}


if(first==='abola' || first==='branded' || first==='condicoes'){
  state.medium = first;
  setActiveTab($mainTabs, first);
  buildSubmenu(first);

  lockSpy(900);
  if(first==='abola')       scrollToHeadById('head-abola');
  else if(first==='branded')scrollToHeadById('head-branded');
  else if(first==='condicoes')scrollToHeadById('head-condicoes');
  return;
}
updateBrandVisibility();

  buildSubmenu(state.medium);
}
window.addEventListener('hashchange', handleHash);
handleHash();

// ---------------- Responsive TV re-render ----------------
const mqMobile = window.matchMedia('(max-width: 640px)');
mqMobile.addEventListener?.('change', ()=>{ 
  if (state.medium==='tv' && DATA.TV[0]) renderTVOutside(DATA.TV[0]); 
});

</script>


</body>
</html>